!function(n,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(r){return i(r,n,t),r.mobile}):i(n.jQuery,n,t)}(this,document,function(n,t,i,r){!function(n){n.mobile={}}(n),function(n,t,r){var f={},u,e;n.mobile=n.extend(n.mobile,{version:"1.3.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:n(t),document:n(i),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(i){"number"!==n.type(i)&&(i=n.mobile.defaultHomeScroll),n.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),n.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){n.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:f,nsNormalize:function(t){if(t)return f[t]||(f[t]=n.camelCase(n.mobile.ns+t))},getInheritedTheme:function(n,t){for(var r,f,i=n[0],u="",e=/ui-(bar|body|overlay)-([a-z])\b/;i&&(r=i.className||"",!(r&&(f=e.exec(r))&&(u=f[2])));)i=i.parentNode;return u||t||"a"},closestPageData:function(n){return n.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(n){return this.haveParents(n,"enhance")},hijackable:function(n){return this.haveParents(n,"ajax")},haveParents:function(t,i){var s;if(!n.mobile.ignoreContentEnabled)return t;for(var r,o,e,h=t.length,f=n(),u=0;h>u;u++){for(o=t.eq(u),e=!1,r=t[u];r;){if(s=r.getAttribute?r.getAttribute("data-"+n.mobile.ns+i):"","false"===s){e=!0;break}r=r.parentNode}e||(f=f.add(o))}return f},getScreenHeight:function(){return t.innerHeight||n.mobile.window.height()}},n.mobile),n.fn.jqmData=function(t,i){var u;return"undefined"!=typeof t&&(t&&(t=n.mobile.nsNormalize(t)),u=arguments.length<2||i===r?this.data(t):this.data(t,i)),u},n.jqmData=function(t,i,r){var u;return"undefined"!=typeof i&&(u=n.data(t,i?n.mobile.nsNormalize(i):i,r)),u},n.fn.jqmRemoveData=function(t){return this.removeData(n.mobile.nsNormalize(t))},n.jqmRemoveData=function(t,i){return n.removeData(t,n.mobile.nsNormalize(i))},n.fn.removeWithDependents=function(){n.removeWithDependents(this)},n.removeWithDependents=function(t){var i=n(t);(i.jqmData("dependents")||n()).remove(),i.remove()},n.fn.addDependents=function(t){n.addDependents(n(this),t)},n.addDependents=function(t,i){var r=n(t).jqmData("dependents")||n();n(t).jqmData("dependents",n.merge(r,i))},n.fn.getEncodedText=function(){return n("<div/>").text(n(this).text()).html()},n.fn.jqmEnhanceable=function(){return n.mobile.enhanceable(this)},n.fn.jqmHijackable=function(){return n.mobile.hijackable(this)},u=n.find,e=/:jqmData\(([^)]*)\)/g,n.find=function(t,i,r,f){return t=t.replace(e,"[data-"+(n.mobile.ns||"")+"$1]"),u.call(this,t,i,r,f)},n.extend(n.find,u),n.find.matches=function(t,i){return n.find(t,null,null,i)},n.find.matchesSelector=function(t,i){return n.find(i,null,null,[t]).length>0}}(n,this),function(n,t){var u=0,i=Array.prototype.slice,r=n.cleanData;n.cleanData=function(t){for(var u,i=0;null!=(u=t[i]);i++)try{n(u).triggerHandler("remove")}catch(f){}r(t)},n.widget=function(t,i,r){var s,f,u,o,e=t.split(".")[0];t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?(arguments.length&&this._createWidget(n,t),void 0):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,u){n.isFunction(u)&&(r[t]=function(){var r=function(){return i.prototype[t].apply(this,arguments)},n=function(n){return i.prototype[t].apply(this,n)};return function(){var t,f=this._super,i=this._superApply;return this._super=r,this._superApply=n,t=u.apply(this,arguments),this._super=f,this._superApply=i,t}}())}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix:t},r,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u)},n.widget.extend=function(r){for(var f,u,o=i.call(arguments,1),e=0,s=o.length;s>e;e++)for(f in o[e])u=o[e][f],o[e].hasOwnProperty(f)&&u!==t&&(r[f]=n.isPlainObject(u)?n.isPlainObject(r[f])?n.widget.extend({},r[f],u):n.widget.extend({},u):u);return r},n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h="string"==typeof e,o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?n.isFunction(u[e])&&"_"!==e.charAt(0)?(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+e+"' for "+r+" widget instance"):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=n(),this.hoverable=n(),this.focusable=n(),i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var f,u,e,o=i;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof i)if(o={},f=i.split("."),i=f.shift(),f.length){for(u=o[i]=n.widget.extend({},this.options[i]),e=0;e<f.length-1;e++)u[f[e]]=u[f[e]]||{},u=u[f[e]];if(i=f.pop(),r===t)return u[i]===t?null:u[i];u[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1),r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget()),n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var c=r.match(/^(\w+)\s*(.*)$/),h=c[1]+u.eventNamespace,s=c[2];s?f.delegate(s,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{},"number"==typeof u&&(u={duration:u}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}})}(n),function(n,t){n.widget("mobile.widget",{_createWidget:function(){n.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var r=this.element,i={};return n.each(this.options,function(n){var u=r.jqmData(n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}));u!==t&&(i[n]=u)}),i},enhanceWithin:function(t,i){this.enhance(n(this.options.initSelector,n(t)),i)},enhance:function(t,i){var u,f,r=n(t);r=n.mobile.enhanceable(r),i&&r.length&&(u=n.mobile.closestPageData(r),f=u&&u.keepNativeSelector()||"",r=r.not(f)),r[this.widgetName]()},raise:function(n){throw"Widget ["+this.widgetName+"]: "+n;}})}(n),function(n){n.extend(n.mobile,{loadingMessageTextVisible:r,loadingMessageTheme:r,loadingMessage:r,showPageLoadingMsg:function(t,i,r){n.mobile.loading("show",t,i,r)},hidePageLoadingMsg:function(){n.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var i="ui-loader",u=n("html"),t=n.mobile.window;n.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+i+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var i=n("."+n.mobile.activeBtnClass).first();this.element.css({top:n.support.scrollTop&&t.scrollTop()+t.height()/2||i.length&&i.offset().top||100})},checkLoaderPosition:function(){var r=this.element.offset(),i=t.scrollTop(),u=n.mobile.getScreenHeight();(r.top<i||r.top-i>u)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),t.unbind("scroll",this.checkLoaderPosition).bind("scroll",n.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(n(this.defaultHtml).html())},show:function(f,e,o){var h,c,s;this.resetHtml(),"object"===n.type(f)?(s=n.extend({},this.options,f),f=s.theme||n.mobile.loadingMessageTheme):(s=this.options,f=f||n.mobile.loadingMessageTheme||s.theme),c=e||n.mobile.loadingMessage||s.text,u.addClass("ui-loading"),(n.mobile.loadingMessage!==!1||s.html)&&(h=n.mobile.loadingMessageTextVisible!==r?n.mobile.loadingMessageTextVisible:s.textVisible,this.element.attr("class",i+" ui-corner-all ui-body-"+f+" ui-loader-"+(h||e||f.text?"verbose":"default")+(s.textonly||o?" ui-loader-textonly":"")),s.html?this.element.html(s.html):this.element.find("h1").text(c),this.element.appendTo(n.mobile.pageContainer),this.checkLoaderPosition(),t.bind("scroll",n.proxy(this.checkLoaderPosition,this)))},hide:function(){u.removeClass("ui-loading"),n.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),n.mobile.window.unbind("scroll",this.fakeFixLoader),n.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),t.bind("pagecontainercreate",function(){n.mobile.loaderWidget=n.mobile.loaderWidget||n(n.mobile.loader.prototype.defaultHtml).loader()})}(n,this),function(n,t,r){function f(n){return n=n||location.href,"#"+n.replace(/^[^#]*#?(.*)$/,"$1")}var s,u="hashchange",e=i,h=n.event.special,c=e.documentMode,o="on"+u in t&&(c===r||c>7);n.fn[u]=function(n){return n?this.bind(u,n):this.trigger(u)},n.fn[u].delay=50,h[u]=n.extend(h[u],{setup:function(){return o?!1:(n(s.start),void 0)},teardown:function(){return o?!1:(n(s.stop),void 0)}}),s=function(){function a(){var r=f(),i=v(h);r!==h?(c(h=r,i),n(t).trigger(u)):i!==h&&(location.href=location.href.replace(/#.*/,"")+i),s=setTimeout(a,n.fn[u].delay)}var s,i={},h=f(),l=function(n){return n},c=l,v=l;return i.start=function(){s||a()},i.stop=function(){s&&clearTimeout(s),s=r},t.attachEvent&&!t.addEventListener&&!o&&function(){var r,t;i.start=function(){r||(t=n.fn[u].src,t=t&&t+f(),r=n('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){t||c(f()),a()}).attr("src",t||"javascript:0").insertAfter("body")[0].contentWindow,e.onpropertychange=function(){try{"title"===event.propertyName&&(r.document.title=e.title)}catch(n){}})},i.stop=l,v=function(){return f(r.location.href)},c=function(t,i){var f=r.document,o=n.fn[u].domain;t!==i&&(f.title=e.title,f.open(),o&&f.write('<script>document.domain="'+o+'"<\/script>'),f.close(),r.location.hash=t)}}(),i}()}(n,this),function(n){t.matchMedia=t.matchMedia||function(n){var u,r=n.documentElement,f=r.firstElementChild||r.firstChild,i=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(i,f),u=42===t.offsetWidth,r.removeChild(i),{matches:u,media:n}}}(i),n.mobile.media=function(n){return t.matchMedia(n).matches}}(n),function(n){var t={touch:"ontouchend"in i};n.mobile.support=n.mobile.support||{},n.extend(n.support,t),n.extend(n.mobile.support,t)}(n),function(n){n.extend(n.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(n),function(n,r){function f(n){var u=n.charAt(0).toUpperCase()+n.substr(1),i=(n+" "+o.join(u+" ")+u).split(" "),t;for(t in i)if(b[i[t]]!==r)return!0}function v(n,t,r){for(var s,f=i.createElement("div"),h=function(n){return n.charAt(0).toUpperCase()+n.substr(1)},c=function(n){return""===n?"":"-"+n.charAt(0).toLowerCase()+n.substr(1)+"-"},l=function(i){var e=c(i)+n+": "+t+";",r=h(i),u=r+(""===r?n:h(n));f.setAttribute("style",e),f.style[u]&&(s=!0)},e=r?r:o,u=0;u<e.length;u++)l(e[u]);return!!s}function k(){var h="transform-3d",f=n.mobile.media("(-"+o.join("-"+h+"),(-")+"-"+h+"),("+h+")"),e,c,s;if(f)return!!f;e=i.createElement("div"),c={MozTransform:"-moz-transform",transform:"transform"},u.append(e);for(s in c)e.style[s]!==r&&(e.style[s]="translate3d( 100px, 1px, 1px )",f=t.getComputedStyle(e).getPropertyValue(c[s]));return!!f&&"none"!==f}function w(){var f,e,o=location.protocol+"//"+location.host+location.pathname+"ui-dir/",t=n("head base"),i=null,r="";return t.length?r=t.attr("href"):t=i=n("<base>",{href:o}).appendTo("head"),f=n("<a href='testurl' />").prependTo(u),e=f[0].href,t[0].href=r||location.pathname,i&&i.remove(),0===e.indexOf(o)}function p(){var f,n=i.createElement("x"),u=i.documentElement,r=t.getComputedStyle;return"pointerEvents"in n.style?(n.style.pointerEvents="auto",n.style.pointerEvents="x",u.appendChild(n),f=r&&"auto"===r(n,"").pointerEvents,u.removeChild(n),!!f):!1}function y(){var n=i.createElement("div");return"undefined"!=typeof n.getBoundingClientRect}function a(){var s=t,n=navigator.userAgent,u=navigator.platform,o=n.match(/AppleWebKit\/([0-9]+)/),i=!!o&&o[1],e=n.match(/Fennec\/([0-9]+)/),f=!!e&&e[1],r=n.match(/Opera Mobi\/([0-9]+)/),h=!!r&&r[1];return(u.indexOf("iPhone")>-1||u.indexOf("iPad")>-1||u.indexOf("iPod")>-1)&&i&&534>i||s.operamini&&"[object OperaMini]"==={}.toString.call(s.operamini)||r&&7458>h||n.indexOf("Android")>-1&&i&&533>i||f&&6>f||"palmGetResource"in t&&i&&534>i||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var u=n("<body>").prependTo("html"),b=u[0].style,o=["Webkit","Moz","O"],c="palmGetResource"in t,h=t.opera,s=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),l=t.blackberry&&!f("-webkit-transform"),e;n.extend(n.mobile,{browser:{}}),n.mobile.browser.oldIE=function(){var n=3,t=i.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++n+"]><br><![endif]-->";while(r[0]);return n>4?n:!n}(),n.extend(n.support,{cssTransitions:"WebKitTransitionEvent"in t||v("transition","height 100ms linear",["Webkit","Moz",""])&&!n.mobile.browser.oldIE&&!h,pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:n.mobile.media("only all"),cssPseudoElement:!!f("content"),touchOverflow:!!f("overflowScrolling"),cssTransform3d:k(),boxShadow:!!f("boxShadow")&&!l,fixedPosition:a(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in u[0])&&!c&&!s,dynamicBaseTag:w(),cssPointerEvents:p(),boundingRect:y()}),u.remove(),e=function(){var n=t.navigator.userAgent;return n.indexOf("Nokia")>-1&&(n.indexOf("Symbian/3")>-1||n.indexOf("Series60/5")>-1)&&n.indexOf("AppleWebKit")>-1&&n.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),n.mobile.gradeA=function(){return(n.support.mediaquery||n.mobile.browser.oldIE&&n.mobile.browser.oldIE>=7)&&(n.support.boundingRect||null!==n.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},n.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||s||e,e&&n(function(){n("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),n.support.boxShadow||n("html").addClass("ui-mobile-nosupport-boxshadow")}(n),function(n,t){var i,r=n.mobile.window;n.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return n.support.pushState&&n.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return n.mobile.hashListeningEnabled===!0},popstate:function(t){var f=new n.Event("navigate"),u=new n.Event("beforenavigate"),i=t.originalEvent.state||{};location.href,r.trigger(u),u.isDefaultPrevented()||(t.historyState&&n.extend(i,t.historyState),f.originalEvent=t,setTimeout(function(){r.trigger(f,{state:i})},0))},hashchange:function(t){var u=new n.Event("navigate"),i=new n.Event("beforenavigate");r.trigger(i),i.isDefaultPrevented()||(u.originalEvent=t,r.trigger(u,{state:t.hashchangeState||{}}))},setup:function(){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",r.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",r.bind("hashchange.navigate",i.hashchange)))}}}(n),function(n,i){var r,f,u="&ui-state=dialog";n.mobile.path=r={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(n){var i=n?this.parseUrl(n):location,t=this.parseUrl(n||location.href).hash;return t="#"===t?"":t,i.protocol+"//"+i.host+i.pathname+i.search+t},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===n.type(t))return t;var i=r.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(n,t){var r;if(n&&"/"===n.charAt(0))return n;n=n||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var i=t?t.split("/"):[],f=n.split("/"),u=0;u<f.length;u++){r=f[u];switch(r){case".":break;case"..":i.length&&i.pop();break;default:i.push(r)}}return"/"+i.join("/")},isSameDomain:function(n,t){return r.parseUrl(n).domain===r.parseUrl(t).domain},isRelativeUrl:function(n){return""===r.parseUrl(n).protocol},isAbsoluteUrl:function(n){return""!==r.parseUrl(n).protocol},makeUrlAbsolute:function(n,t){if(!r.isRelativeUrl(n))return n;t===i&&(t=this.documentBase);var u=r.parseUrl(n),f=r.parseUrl(t),c=u.protocol||f.protocol,l=u.protocol?u.doubleSlash:u.doubleSlash||f.doubleSlash,a=u.authority||f.authority,h=""!==u.pathname,e=r.makePathAbsolute(u.pathname||f.filename,f.pathname),o=u.search||!h&&f.search||"",s=u.hash;return c+l+a+e+o+s},addSearchParams:function(t,i){var f=r.parseUrl(t),e="object"==typeof i?n.param(i):i,u=f.search||"?";return f.hrefNoSearch+u+("?"!==u.charAt(u.length-1)?"&":"")+e+(f.hash||"")},convertUrlToDataUrl:function(n){var i=r.parseUrl(n);return r.isEmbeddedPage(i)?i.hash.split(u)[0].replace(/^#/,"").replace(/\?.*$/,""):r.isSameDomain(i,this.documentBase)?i.hrefNoHash.replace(this.documentBase.domain,"").split(u)[0]:t.decodeURIComponent(n)},get:function(n){return n===i&&(n=r.parseLocation().hash),r.stripHash(n).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(n){location.hash=n},isPath:function(n){return/\//.test(n)},clean:function(n){return n.replace(this.documentBase.domain,"")},stripHash:function(n){return n.replace(/^#/,"")},stripQueryParams:function(n){return n.replace(/\?.*$/,"")},cleanHash:function(n){return r.stripHash(n.replace(/\?.*$/,"").replace(u,""))},isHashValid:function(n){return/^#[^#]+$/.test(n)},isExternal:function(n){var t=r.parseUrl(n);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(n){return/^(:?\w+:)/.test(n)},isEmbeddedPage:function(n){var t=r.parseUrl(n);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(n,t){var i,f,h,o,c=this.isPath(n),s=this.parseUrl(n),u=s.hash,e="";return t=t||(r.isPath(n)?r.getLocation():r.getDocumentUrl()),f=c?r.stripHash(n):n,f=r.isPath(s.hash)?r.stripHash(s.hash):f,o=f.indexOf(this.uiStateKey),o>-1&&(e=f.slice(o),f=f.slice(0,o)),i=r.makeUrlAbsolute(f,t),h=this.parseUrl(i).search,c?((r.isPath(u)||0===u.replace("#","").indexOf(this.uiStateKey))&&(u=""),e&&-1===u.indexOf(this.uiStateKey)&&(u+=e),-1===u.indexOf("#")&&""!==u&&(u="#"+u),i=r.parseUrl(i),i=i.protocol+"//"+i.host+i.pathname+h+u):i+=i.indexOf("#")>-1?e:"#"+e,i},isPreservableHash:function(n){return 0===n.replace("#","").indexOf(this.uiStateKey)}},r.documentUrl=r.parseLocation(),f=n("head").find("base"),r.documentBase=f.length?r.parseUrl(r.makeUrlAbsolute(f.attr("href"),r.documentUrl.href)):r.documentUrl,r.documentBaseDiffers=r.documentUrl.hrefNoHash!==r.documentBase.hrefNoHash,r.getDocumentUrl=function(t){return t?n.extend({},r.documentUrl):r.documentUrl.href},r.getDocumentBase=function(t){return t?n.extend({},r.documentBase):r.documentBase.href}}(n),function(n,t){n.mobile.path,n.mobile.History=function(n,t){this.stack=n||[],this.activeIndex=t||0},n.extend(n.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(n,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=n,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(n,t,i){t=t||this.stack;for(var f,u,e=t.length,r=0;e>r;r++)if(f=t[r],(decodeURIComponent(n)===decodeURIComponent(f.url)||decodeURIComponent(n)===decodeURIComponent(f.hash))&&(u=r,i))return u;return u},closest:function(n){var i,r=this.activeIndex;return i=this.find(n,this.stack.slice(0,r)),i===t&&(i=this.find(n,this.stack.slice(r),!0),i=i===t?i:i+r),i},direct:function(i){var r=this.closest(i.url),u=this.activeIndex;r!==t&&(this.activeIndex=r,this.previousIndex=u),u>r?(i.present||i.back||n.noop)(this.getActive(),"back"):r>u?(i.present||i.forward||n.noop)(this.getActive(),"forward"):r===t&&i.missing&&i.missing(this.getActive())}})}(n),function(n){var r=n.mobile.path,u=location.href;n.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,n.mobile.window.bind({"popstate.history":n.proxy(this.popstate,this),"hashchange.history":n.proxy(this.hashchange,this)})},n.extend(n.mobile.Navigator.prototype,{squash:function(u,f){var e,o,s=r.isPath(u)?r.stripHash(u):u;return o=r.squash(u),e=n.extend({hash:s,url:o},f),t.history.replaceState(e,e.title||i.title,o),e},hash:function(n,t){var i,e,f,u;return(i=r.parseUrl(n),e=r.parseLocation(),e.pathname+e.search===i.pathname+i.search)?f=i.hash?i.hash:i.pathname+i.search:r.isPath(n)?(u=r.parseUrl(t),f=u.pathname+u.search+(r.isPreservableHash(u.hash)?u.hash.replace("#",""):"")):f=n,f},go:function(u,f,e){var s,c,o,h,l=n.event.special.navigate.isPushStateEnabled();c=r.squash(u),o=this.hash(u,c),e&&o!==r.stripHash(r.parseLocation().hash)&&(this.preventNextHashChange=e),this.preventHashAssignPopState=!0,t.location.hash=o,this.preventHashAssignPopState=!1,s=n.extend({url:c,hash:o,title:i.title},f),l&&(h=new n.Event("popstate"),h.originalEvent={type:"popstate",state:null},this.squash(u,s),e||(this.ignorePopState=!0,n.mobile.window.trigger(h))),this.history.add(s.url,s)},popstate:function(t){var f,i;if(n.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,t.stopImmediatePropagation(),void 0):this.ignorePopState?(this.ignorePopState=!1,void 0):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===u)?(t.preventDefault(),void 0):(f=r.parseLocation().hash,!t.originalEvent.state&&f?(i=this.squash(f),this.history.add(i.url,i),t.historyState=i,void 0):(this.history.direct({url:(t.originalEvent.state||{}).url||f,present:function(i,r){t.historyState=n.extend({},i),t.historyState.direction=r}}),void 0))},hashchange:function(t){var f,u;if(n.event.special.navigate.isHashChangeEnabled()&&!n.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,t.stopImmediatePropagation(),void 0;f=this.history,u=r.parseLocation().hash,this.history.direct({url:u,present:function(i,r){t.hashchangeState=n.extend({},i),t.hashchangeState.direction=r},missing:function(){f.add(u,{hash:u,title:i.title})}})}}})}(n),function(n){n.mobile.navigate=function(t,i,r){n.mobile.navigate.navigator.go(t,i,r)},n.mobile.navigate.history=new n.mobile.History,n.mobile.navigate.navigator=new n.mobile.Navigator(n.mobile.navigate.history);var t=n.mobile.path.parseLocation();n.mobile.navigate.history.add(t.href,{hash:t.hash})}(n),function(n,t,i,r){function a(n){for(;n&&"undefined"!=typeof n.originalEvent;)n=n.originalEvent;return n}function gt(t,i){var s,h,l,u,e,v,c,o,y,f=t.type;if(t=n.Event(t),t.type=i,s=t.originalEvent,h=n.event.props,f.search(/^(mouse|click)/)>-1&&(h=ni),s)for(c=h.length,u;c;)u=h[--c],t[u]=s[u];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==f.search(/^touch/)&&(l=a(s),f=l.touches,e=l.changedTouches,v=f&&f.length?f[0]:e&&e.length?e[0]:r))for(o=0,y=ut.length;y>o;o++)u=ut[o],t[u]=v[u];return t}function v(t){for(var u,r,i={};t;){u=n.data(t,o);for(r in u)u[r]&&(i[r]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function dt(t,i){for(var r;t;){if(r=n.data(t,o),r&&(!i||r[i]))return t;t=t.parentNode}return null}function kt(){h=!1}function at(){h=!0}function pt(){s=0,p.length=0,g=!1,at()}function wt(){kt()}function nt(){ht(),l=setTimeout(function(){l=0,pt()},n.vmouse.resetTimerDuration)}function ht(){l&&(clearTimeout(l),l=0)}function e(t,i,r){var u;return(r&&r[t]||!r&&dt(i.target,t))&&(u=gt(i,t),n(i.target).trigger(u)),u}function ct(t){var r=n.data(t.target,w),i;g||s&&s===r||(i=e("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function lt(t){var u,i,o=a(t).touches,r;o&&1===o.length&&(u=t.target,i=v(u),i.hasVirtualBinding)&&(s=vt++,n.data(u,w,s),ht(),wt(),f=!1,r=a(t).touches[0],rt=r.pageX,it=r.pageY,e("vmouseover",t,i),e("vmousedown",t,i))}function st(n){h||(f||e("vmousecancel",n,v(n.target)),f=!0,nt())}function ft(t){if(!h){var u=a(t).touches[0],o=f,i=n.vmouse.moveDistanceThreshold,r=v(t.target);f=f||Math.abs(u.pageX-rt)>i||Math.abs(u.pageY-it)>i,f&&!o&&e("vmousecancel",t,r),e("vmousemove",t,r),nt()}}function et(n){var r,t,i;h||(at(),t=v(n.target),(e("vmouseup",n,t),f)||(i=e("vclick",n,t),i&&i.isDefaultPrevented()&&(r=a(n).changedTouches[0],p.push({touchID:s,x:r.clientX,y:r.clientY}),g=!0)),e("vmouseout",n,t),f=!1,nt())}function ot(t){var r,i=n.data(t,o);if(i)for(r in i)if(i[r])return!0;return!1}function tt(){}function yt(t){var i=t.substr(1);return{setup:function(){ot(this)||n.data(this,o,{});var r=n.data(this,o);r[t]=!0,u[t]=(u[t]||0)+1,1===u[t]&&y.bind(i,ct),n(this).bind(i,tt),d&&(u.touchstart=(u.touchstart||0)+1,1===u.touchstart&&y.bind("touchstart",lt).bind("touchend",et).bind("touchmove",ft).bind("scroll",st))},teardown:function(){--u[t],u[t]||y.unbind(i,ct),d&&(--u.touchstart,u.touchstart||y.unbind("touchstart",lt).unbind("touchmove",ft).unbind("touchend",et).unbind("scroll",st));var f=n(this),r=n.data(this,o);r&&(r[t]=!1),f.unbind(i,tt),ot(this)||f.removeData(o)}}}var b,o="virtualMouseBindings",w="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),ut="clientX clientY pageX pageY screenX screenY".split(" "),bt=n.event.mouseHooks?n.event.mouseHooks.props:[],ni=n.event.props.concat(bt),u={},l=0,rt=0,it=0,f=!1,p=[],g=!1,h=!1,d="addEventListener"in i,y=n(i),vt=1,s=0,c;for(n.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},c=0;c<k.length;c++)n.event.special[k[c]]=yt(k[c]);d&&i.addEventListener("click",function(t){var s,o,i,u,r,h,e=p.length,f=t.target;if(e)for(s=t.clientX,o=t.clientY,b=n.vmouse.clickDistanceThreshold,i=f;i;){for(u=0;e>u;u++)if(r=p[u],h=0,i===f&&Math.abs(r.x-s)<b&&Math.abs(r.y-o)<b||n.data(i,w)===r.touchID)return t.preventDefault(),t.stopPropagation(),void 0;i=i.parentNode}},!0)}(n,t,i),function(n,t,r){function f(t,i,r){var u=r.type;r.type=i,n.event.dispatch.call(t,r),r.type=u}var o=n(i);n.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)},n.attrFn&&(n.attrFn[i]=!0)});var u=n.mobile.support.touch,s="touchmove scroll",c=u?"touchstart":"mousedown",h=u?"touchend":"mouseup",e=u?"touchmove":"mousemove";n.event.special.scrollstart={enabled:!0,setup:function(){function u(n,r){t=r,f(i,t?"scrollstart":"scrollstop",n)}var t,r,i=this,e=n(i);e.bind(s,function(i){n.event.special.scrollstart.enabled&&(t||u(i,!0),clearTimeout(r),r=setTimeout(function(){u(i,!1)},50))})}},n.event.special.tap={tapholdThreshold:750,setup:function(){var i=this,t=n(i);t.bind("vmousedown",function(r){function e(){clearTimeout(h)}function u(){e(),t.unbind("vclick",c).unbind("vmouseup",e),o.unbind("vmousecancel",u)}function c(n){u(),s===n.target&&f(i,"tap",n)}if(r.which&&1!==r.which)return!1;var h,s=r.target;r.originalEvent,t.bind("vmouseup",e).bind("vclick",c),o.bind("vmousecancel",u),h=setTimeout(function(){f(i,"taphold",n.Event("taphold",{target:s}))},n.event.special.tap.tapholdThreshold)})}},n.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:+new Date,coords:[i.pageX,i.pageY],origin:n(t.target)}},stop:function(n){var t=n.originalEvent.touches?n.originalEvent.touches[0]:n;return{time:+new Date,coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i){i.time-t.time<n.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>i.coords[0]?"swipeleft":"swiperight")},setup:function(){var i=this,t=n(i);t.bind(c,function(i){function o(t){f&&(u=n.event.special.swipe.stop(t),Math.abs(f.coords[0]-u.coords[0])>n.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var u,f=n.event.special.swipe.start(i);t.bind(e,o).one(h,function(){t.unbind(e,o),f&&u&&n.event.special.swipe.handleSwipe(f,u),f=u=r})})}},n.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,i){n.event.special[t]={setup:function(){n(this).bind(i,n.noop)}}})}(n,this),function(n){n.event.special.throttledresize={setup:function(){n(this).bind("resize",i)},teardown:function(){n(this).unbind("resize",i)}};var r,u,t,e=250,i=function(){u=+new Date,t=u-f,t>=e?(f=u,n(this).trigger("throttledresize")):(r&&clearTimeout(r),r=setTimeout(i,e-t))},f=0}(n),function(n,t){function a(){var n=f();n!==s&&(s=n,u.trigger(r))}var f,s,h,o,u=n(t),r="orientationchange",e={0:!0,180:!0};if(n.support.orientation){var l=t.innerWidth||u.width(),c=t.innerHeight||u.height(),v=50;h=l>c&&l-c>v,o=e[t.orientation],(h&&o||!h&&!o)&&(e={"-90":!0,90:!0})}n.event.special.orientationchange=n.extend({},n.event.special.orientationchange,{setup:function(){return n.support.orientation&&!n.event.special.orientationchange.disabled?!1:(s=f(),u.bind("throttledresize",a),void 0)},teardown:function(){return n.support.orientation&&!n.event.special.orientationchange.disabled?!1:(u.unbind("throttledresize",a),void 0)},add:function(n){var t=n.handler;n.handler=function(n){return n.orientation=f(),t.apply(this,arguments)}}}),n.event.special.orientationchange.orientation=f=function(){var u=!0,r=i.documentElement;return u=n.support.orientation?e[t.orientation]:r&&r.clientWidth/r.clientHeight<1.1,u?"portrait":"landscape"},n.fn[r]=function(n){return n?this.bind(r,n):this.trigger(r)},n.attrFn&&(n.attrFn[r]=!0)}(n,this),function(n){n.widget("mobile.page",n.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),void 0)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){n.mobile.pageContainer.removeClass("ui-overlay-"+n.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&n.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,i=t.keepNative&&n.trim(t.keepNative);return i&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(n),function(n,t,i){var u=function(r){return r===i&&(r=!0),function(i,u,f,e){var p=new n.Deferred,y=u?" reverse":"",g=n.mobile.urlHistory.getActive(),o=g.lastScroll||n.mobile.defaultHomeScroll,b=n.mobile.getScreenHeight(),k=n.mobile.maxTransitionWidth!==!1&&n.mobile.window.width()>n.mobile.maxTransitionWidth,s=!n.support.cssTransitions||k||!i||"none"===i||Math.max(n.mobile.window.scrollTop(),o)>n.mobile.getMaxScrollForTransition(),c=" ui-page-pre-in",v=function(){n.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+i)},a=function(){n.event.special.scrollstart.enabled=!1,t.scrollTo(0,o),setTimeout(function(){n.event.special.scrollstart.enabled=!0},150)},l=function(){e.removeClass(n.mobile.activePageClass+" out in reverse "+i).height("")},nt=function(){r?e.animationComplete(h):h(),e.height(b+n.mobile.window.scrollTop()).addClass(i+" out"+y)},h=function(){e&&r&&l(),d()},d=function(){f.css("z-index",-10),f.addClass(n.mobile.activePageClass+c),n.mobile.focusPage(f),f.height(b+o),a(),f.css("z-index",""),s||f.animationComplete(w),f.removeClass(c).addClass(i+" in"+y),s&&w()},w=function(){r||e&&l(),f.removeClass("out in reverse "+i).height(""),v(),n.mobile.window.scrollTop()!==o&&a(),p.resolve(i,u,f,e,!0)};return v(),e&&!s?nt():h(),p.promise()}},r=u(),e=u(!1),f=function(){return 3*n.mobile.getScreenHeight()};n.mobile.defaultTransitionHandler=r,n.mobile.transitionHandlers={"default":n.mobile.defaultTransitionHandler,sequential:r,simultaneous:e},n.mobile.transitionFallbacks={},n.mobile._maybeDegradeTransition=function(t){return t&&!n.support.cssTransform3d&&n.mobile.transitionFallbacks[t]&&(t=n.mobile.transitionFallbacks[t]),t},n.mobile.getMaxScrollForTransition=n.mobile.getMaxScrollForTransition||f}(n,this),function(n,r){function w(t){!l||l.closest("."+n.mobile.activePageClass).length&&!t||l.removeClass(n.mobile.activeBtnClass),l=null}function ut(){v=!1,d.length>0&&n.mobile.changePage.apply(null,d.pop())}function ot(t,i,r,u){i&&i.data("mobile-page")._trigger("beforehide",null,{nextPage:t}),t.data("mobile-page")._trigger("beforeshow",null,{prevPage:i||n("")}),n.mobile.hidePageLoadingMsg(),r=n.mobile._maybeDegradeTransition(r);var e=n.mobile.transitionHandlers[r||"default"]||n.mobile.defaultTransitionHandler,f=e(r,u,t,i);return f.done(function(){i&&i.data("mobile-page")._trigger("hide",null,{nextPage:t}),t.data("mobile-page")._trigger("show",null,{prevPage:i||n("")})}),f}function k(t,i){i&&t.attr("data-"+n.mobile.ns+"role",i),t.page()}function ft(){var t=n.mobile.activePage&&b(n.mobile.activePage);return t||s.hrefNoHash}function it(n){for(;n&&("string"!=typeof n.nodeName||"a"!==n.nodeName.toLowerCase());)n=n.parentNode;return n}function b(t){var i=n(t).closest(".ui-page").jqmData("url"),r=s.hrefNoHash;return i&&u.isPath(i)||(i=r),u.makeUrlAbsolute(i,r)}var h=n.mobile.window,tt=(n("html"),n("head")),u=n.extend(n.mobile.path,{getFilePath:function(t){var i="&"+n.mobile.subPageUrlKey;return t&&t.split(i)[0].split(o)[0]},isFirstPageUrl:function(t){var i=u.parseUrl(u.makeUrlAbsolute(t,this.documentBase)),o=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,f=n.mobile.firstPage,e=f&&f[0]?f[0].id:r;return o&&(!i.hash||"#"===i.hash||e&&i.hash.replace(/^#/,"")===e)},isPermittedCrossDomainRequest:function(t,i){return n.mobile.allowCrossDomainPages&&"file:"===t.protocol&&-1!==i.search(/^https?:/)}}),a=null,l=null,nt=n.Deferred(),f=n.mobile.navigate.history,d=[],v=!1,o="&ui-state=dialog",rt=tt.children("base"),c=u.documentUrl,s=u.documentBase,et=(u.documentBaseDiffers,n.mobile.getScreenHeight),e=n.support.dynamicBaseTag?{element:rt.length?rt:n("<base>",{href:s.hrefNoHash}).prependTo(tt),set:function(n){n=u.parseUrl(n).hrefNoHash,e.element.attr("href",u.makeUrlAbsolute(n,s))},reset:function(){e.element.attr("href",s.hrefNoSearch)}}:r,g,p,y;n.mobile.getDocumentUrl=u.getDocumentUrl,n.mobile.getDocumentBase=u.getDocumentBase,n.mobile.back=function(){var n=t.navigator;this.phonegapNavigationEnabled&&n&&n.app&&n.app.backHistory?n.app.backHistory():t.history.back()},n.mobile.focusPage=function(n){var i=n.find("[autofocus]"),t=n.find(".ui-title:eq(0)");return i.length?(i.focus(),void 0):(t.length?t.focus():n.focus(),void 0)},y=!0,g=function(){var i,t;y&&(i=n.mobile.urlHistory.getActive(),i&&(t=h.scrollTop(),i.lastScroll=t<n.mobile.minScrollBack?n.mobile.defaultHomeScroll:t))},p=function(){setTimeout(g,100)},h.bind(n.support.pushState?"popstate":"hashchange",function(){y=!1}),h.one(n.support.pushState?"popstate":"hashchange",function(){y=!0}),h.one("pagecontainercreate",function(){n.mobile.pageContainer.bind("pagechange",function(){y=!0,h.unbind("scrollstop",p),h.bind("scrollstop",p)})}),h.bind("scrollstop",p),n.mobile._maybeDegradeTransition=n.mobile._maybeDegradeTransition||function(n){return n},n.mobile.resetActivePageHeight=function(t){var i=n("."+n.mobile.activePageClass),f=parseFloat(i.css("padding-top")),e=parseFloat(i.css("padding-bottom")),r=parseFloat(i.css("border-top-width")),u=parseFloat(i.css("border-bottom-width"));t="number"==typeof t?t:et(),i.css("min-height",t-f-e-r-u)},n.fn.animationComplete=function(t){return n.support.cssTransitions?n(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),n(this))},n.mobile.path=u,n.mobile.base=e,n.mobile.urlHistory=f,n.mobile.dialogHashKey=o,n.mobile.allowCrossDomainPages=!1,n.mobile._bindPageRemove=function(){var t=n(this);!t.data("mobile-page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var i=n(this),t=new n.Event("pageremove");i.trigger(t),t.isDefaultPrevented()||i.removeWithDependents()})},n.mobile.loadPage=function(t,i){var h=n.Deferred(),f=n.extend({},n.mobile.loadPage.defaults,i),o=null,w=null,s=u.makeUrlAbsolute(t,ft()),v,l,p,y;if(f.data&&"get"===f.type&&(s=u.addSearchParams(s,f.data),f.data=r),f.data&&"post"===f.type&&(f.reloadPage=!0),v=u.getFilePath(s),l=u.convertUrlToDataUrl(s),f.pageContainer=f.pageContainer||n.mobile.pageContainer,o=f.pageContainer.children("[data-"+n.mobile.ns+"url='"+l+"']"),0===o.length&&l&&!u.isPath(l)&&(o=f.pageContainer.children("#"+l).attr("data-"+n.mobile.ns+"url",l).jqmData("url",l)),0===o.length)if(n.mobile.firstPage&&u.isFirstPageUrl(v))n.mobile.firstPage.parent().length&&(o=n(n.mobile.firstPage));else if(u.isEmbeddedPage(v))return h.reject(s,i),h.promise();if(o.length){if(!f.reloadPage)return k(o,f.role),h.resolve(s,i,o),e&&!i.prefetch&&e.set(t),h.promise();w=o}var d=f.pageContainer,b=new n.Event("pagebeforeload"),a={url:t,absUrl:s,dataUrl:l,deferred:h,options:f};return(d.trigger(b,a),b.isDefaultPrevented())?h.promise():(f.showLoadMsg&&(p=setTimeout(function(){n.mobile.showPageLoadingMsg()},f.loadMsgDelay),y=function(){clearTimeout(p),n.mobile.hidePageLoadingMsg()}),!e||"undefined"!=typeof i&&"undefined"!=typeof i.prefetch||e.reset(),n.mobile.allowCrossDomainPages||u.isSameDomain(c,s)?n.ajax({url:v,type:f.type,data:f.data,contentType:f.contentType,dataType:"html",success:function(r,c,p){var g=n("<div></div>"),b=r.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,nt=new RegExp("(<[^>]+\\bdata-"+n.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),tt=new RegExp("\\bdata-"+n.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?"),d;(nt.test(r)&&RegExp.$1&&tt.test(RegExp.$1)&&RegExp.$1&&(t=v=u.getFilePath(n("<div>"+RegExp.$1+"</div>").text())),!e||"undefined"!=typeof i&&"undefined"!=typeof i.prefetch||e.set(v),g.get(0).innerHTML=r,o=g.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),o.length||(o=n("<div data-"+n.mobile.ns+"role='page'>"+(r.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),b&&!o.jqmData("title")&&(~b.indexOf("&")&&(b=n("<div>"+b+"</div>").text()),o.jqmData("title",b)),n.support.dynamicBaseTag)||(d=u.get(v),o.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var i=n(this).is("[href]")?"href":n(this).is("[src]")?"src":"action",t=n(this).attr(i);t=t.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(t)||n(this).attr(i,d+t)})),o.attr("data-"+n.mobile.ns+"url",u.convertUrlToDataUrl(v)).attr("data-"+n.mobile.ns+"external-page",!0).appendTo(f.pageContainer),o.one("pagecreate",n.mobile._bindPageRemove),k(o,f.role),s.indexOf("&"+n.mobile.subPageUrlKey)>-1&&(o=f.pageContainer.children("[data-"+n.mobile.ns+"url='"+l+"']")),f.showLoadMsg&&y(),a.xhr=p,a.textStatus=c,a.page=o,f.pageContainer.trigger("pageload",a),h.resolve(s,i,o,w)},error:function(t,r,o){e&&e.set(u.get()),a.xhr=t,a.textStatus=r,a.errorThrown=o;var c=new n.Event("pageloadfailed");f.pageContainer.trigger(c,a),c.isDefaultPrevented()||(f.showLoadMsg&&(y(),n.mobile.showPageLoadingMsg(n.mobile.pageLoadErrorMessageTheme,n.mobile.pageLoadErrorMessage,!0),setTimeout(n.mobile.hidePageLoadingMsg,1500)),h.reject(s,i))}}):h.reject(s,i),h.promise())},n.mobile.loadPage.defaults={type:"get",data:r,reloadPage:!1,role:r,showLoadMsg:!1,pageContainer:r,loadMsgDelay:50},n.mobile.changePage=function(t,e){var g,s,p,rt,nt;if(v)return d.unshift(arguments),void 0;s=n.extend({},n.mobile.changePage.defaults,e),s.pageContainer=s.pageContainer||n.mobile.pageContainer,s.fromPage=s.fromPage||n.mobile.activePage,g="string"==typeof t;var tt=s.pageContainer,st=new n.Event("pagebeforechange"),l={toPage:t,options:s};if(l.absUrl=g?u.makeUrlAbsolute(t,ft()):t.data("absUrl"),tt.trigger(st,l),!st.isDefaultPrevented()){if(t=l.toPage,g="string"==typeof t,v=!0,g)return s.target=t,n.mobile.loadPage(t,s).done(function(t,i,r,u){v=!1,i.duplicateCachedPage=u,r.data("absUrl",l.absUrl),n.mobile.changePage(r,i)}).fail(function(){w(!0),ut(),s.pageContainer.trigger("pagechangefailed",l)}),void 0;t[0]!==n.mobile.firstPage[0]||s.dataUrl||(s.dataUrl=c.hrefNoHash);var it=s.fromPage,h=s.dataUrl&&u.convertUrlToDataUrl(s.dataUrl)||t.jqmData("url"),ht=h,a=(u.getFilePath(h),f.getActive()),ct=0===f.activeIndex,b=0,y=i.title,et="dialog"===s.role||"dialog"===t.jqmData("role");if(it&&it[0]===t[0]&&!s.allowSamePageTransition)return v=!1,tt.trigger("pagechange",l),s.fromHashChange&&f.direct({url:h}),void 0;k(t,s.role),s.fromHashChange&&(b="back"===e.direction?-1:1);try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()?n(i.activeElement).blur():n("input:focus, textarea:focus, select:focus").blur()}catch(lt){}p=!1,et&&a&&(a.url&&a.url.indexOf(o)>-1&&n.mobile.activePage&&!n.mobile.activePage.is(".ui-dialog")&&f.activeIndex>0&&(s.changeHash=!1,p=!0),h=a.url||"",h+=!p&&h.indexOf("#")>-1?o:"#"+o,0===f.activeIndex&&h===f.initialDst&&(h+=o)),rt=a?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():y,(rt&&y===i.title&&(y=rt),t.jqmData("title")||t.jqmData("title",y),s.transition=s.transition||(b&&!ct?a.transition:r)||(et?n.mobile.defaultDialogTransition:n.mobile.defaultPageTransition),!b&&p&&(f.getActive().pageUrl=ht),h&&!s.fromHashChange)&&(!u.isPath(h)&&h.indexOf("#")<0&&(h="#"+h),nt={transition:s.transition,title:y,pageUrl:ht,role:s.role},s.changeHash!==!1&&n.mobile.hashListeningEnabled?n.mobile.navigate(h,nt,!0):t[0]!==n.mobile.firstPage[0]&&n.mobile.navigate.history.add(h,nt)),i.title=y,n.mobile.activePage=t,s.reverse=s.reverse||0>b,ot(t,it,s.transition,s.reverse).done(function(i,r,u,f,e){w(),s.duplicateCachedPage&&s.duplicateCachedPage.remove(),e||n.mobile.focusPage(t),ut(),tt.trigger("pagechange",l)})}},n.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},n.mobile.navreadyDeferred=n.Deferred(),n.mobile._registerInternalEvents=function(){var i=function(t,i){var r,e,f,o,h=!0;return!n.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target")?!1:(r=t.attr("action"),o=(t.attr("method")||"get").toLowerCase(),r||(r=b(t),"get"===o&&(r=u.parseUrl(r).hrefNoSearch),r===s.hrefNoHash&&(r=c.hrefNoSearch)),r=u.makeUrlAbsolute(r,b(t)),u.isExternal(r)&&!u.isPermittedCrossDomainRequest(c,r)?!1:(i||(e=t.serializeArray(),a&&a[0].form===t[0]&&(f=a.attr("name"),f&&(n.each(e,function(n,t){if(t.name===f)return f="",!1}),f&&e.push({name:f,value:a.attr("value")}))),h={url:r,options:{type:o,data:n.param(e),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),h))};n.mobile.document.delegate("form","submit",function(t){var r=i(n(this));r&&(n.mobile.changePage(r.url,r.options),t.preventDefault())}),n.mobile.document.bind("vclick",function(t){var f,e,r=t.target,o=!1;if(!(t.which>1)&&n.mobile.linkBindingEnabled){if(a=n(r),n.data(r,"mobile-button")){if(!i(n(r).closest("form"),!0))return;r.parentNode&&(r=r.parentNode)}else{if(r=it(r),!r||"#"===u.parseUrl(r.getAttribute("href")||"#").hash)return;if(!n(r).jqmHijackable().length)return}~r.className.indexOf("ui-link-inherit")?r.parentNode&&(e=n.data(r.parentNode,"buttonElements")):e=n.data(r,"buttonElements"),e?r=e.outer:o=!0,f=n(r),o&&(f=f.closest(".ui-btn")),f.length>0&&!f.hasClass("ui-disabled")&&(w(!0),l=f,l.addClass(n.mobile.activeBtnClass))}}),n.mobile.document.bind("click",function(i){var o,h,f,s,e,a,l;if(n.mobile.linkBindingEnabled&&!i.isDefaultPrevented()&&(h=it(i.target),f=n(h),h&&!(i.which>1)&&f.jqmHijackable().length)){if(o=function(){t.setTimeout(function(){w(!0)},200)},f.is(":jqmData(rel='back')"))return n.mobile.back(),!1;if(s=b(f),e=u.makeUrlAbsolute(f.attr("href")||"#",s),!n.mobile.ajaxEnabled&&!u.isEmbeddedPage(e))return o(),void 0;if(-1!==e.search("#")){if(e=e.replace(/[^#]*#/,""),!e)return i.preventDefault(),void 0;e=u.isPath(e)?u.makeUrlAbsolute(e,s):u.makeUrlAbsolute("#"+e,c.hrefNoHash)}if(a=f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]"),l=a||u.isExternal(e)&&!u.isPermittedCrossDomainRequest(c,e),l)return o(),void 0;var p=f.jqmData("transition"),y="reverse"===f.jqmData("direction")||f.jqmData("back"),v=f.attr("data-"+n.mobile.ns+"rel")||r;n.mobile.changePage(e,{transition:p,reverse:y,role:v,link:f}),i.preventDefault()}}),n.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];n(this).find("a:jqmData(prefetch)").each(function(){var r=n(this),i=r.attr("href");i&&-1===n.inArray(i,t)&&(t.push(i),n.mobile.loadPage(i,{role:r.attr("data-"+n.mobile.ns+"rel"),prefetch:!0}))})}),n.mobile._handleHashChange=function(i,e){var h=u.stripHash(i),a=0===n.mobile.urlHistory.stack.length?"none":r,c={changeHash:!1,fromHashChange:!0,reverse:"back"===e.direction},l;if(n.extend(c,e,{transition:(f.getLast()||{}).transition||a}),f.activeIndex>0&&h.indexOf(o)>-1&&f.initialDst!==h){if(n.mobile.activePage&&!n.mobile.activePage.is(".ui-dialog"))return"back"===e.direction?n.mobile.back():t.history.forward(),void 0;h=e.pageUrl,l=n.mobile.urlHistory.getActive(),n.extend(c,{role:l.role,transition:l.transition,reverse:"back"===e.direction})}h?(h=u.isPath(h)?h:u.makeUrlAbsolute("#"+h,s),h===u.makeUrlAbsolute("#"+f.initialDst,s)&&f.stack.length&&f.stack[0].url!==f.initialDst.replace(o,"")&&(h=n.mobile.firstPage),n.mobile.changePage(h,c)):n.mobile.changePage(n.mobile.firstPage,c)},h.bind("navigate",function(t,i){var r;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(r=n.event.special.navigate.originalEventName.indexOf("hashchange")>-1?i.state.hash:i.state.url,r||(r=n.mobile.path.parseLocation().hash),r&&"#"!==r&&0!==r.indexOf("#"+n.mobile.path.uiStateKey)||(r=location.href),n.mobile._handleHashChange(r,i.state))}),n.mobile.document.bind("pageshow",n.mobile.resetActivePageHeight),n.mobile.window.bind("throttledresize",n.mobile.resetActivePageHeight)},n(function(){nt.resolve()}),n.when(nt,n.mobile.navreadyDeferred).done(function(){n.mobile._registerInternalEvents()})}(n),function(n){n.mobile.transitionFallbacks.flip="fade"}(n,this),function(n){n.mobile.transitionFallbacks.flow="fade"}(n,this),function(n){n.mobile.transitionFallbacks.pop="fade"}(n,this),function(n){n.mobile.transitionHandlers.slide=n.mobile.transitionHandlers.simultaneous,n.mobile.transitionFallbacks.slide="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slidedown="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slidefade="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slideup="fade"}(n,this),function(n){n.mobile.transitionFallbacks.turn="fade"}(n,this),function(n){n.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},n.mobile.document.bind("pagecreate create",function(t){var r,i=n.mobile.closestPageData(n(t.target));i&&(r=i.options,n(t.target).find("input").not(i.keepNativeSelector()).each(function(){var f=n(this),t=this.getAttribute("type"),s=r.degradeInputs[t]||"text";if(r.degradeInputs[t]){var i=n("<div>").html(f.clone()).html(),u=i.indexOf(" type=")>-1,o=u?/\s+type=["']?\w+['"]?/:/\/?>/,e=' type="'+s+'" data-'+n.mobile.ns+'type="'+t+'"'+(u?"":">");f.replaceWith(i.replace(o,e))}}))})}(n),function(n){n.widget("mobile.dialog",n.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_create:function(){var t=this.element,r=this.options.corners?" ui-corner-all":"",i=n("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+r});t.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),t.wrapInner(i),t.bind("vclick submit",function(t){var r,i=n(t.target).closest("vclick"===t.type?"a":"form");i.length&&!i.jqmData("transition")&&(r=n.mobile.urlHistory.getActive()||{},i.attr("data-"+n.mobile.ns+"transition",r.transition||n.mobile.defaultDialogTransition).attr("data-"+n.mobile.ns+"direction","reverse"))}),this._on(t,{pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),n.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(t){var i,r,u=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==t&&(r="left"===t?"left":"right",i=n("<a href='#' class='ui-btn-"+r+"' data-"+n.mobile.ns+"icon='delete' data-"+n.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(i),this._createComplete&&n.fn.buttonMarkup&&i.buttonMarkup(),this._createComplete=!0,i.bind("click",function(){u.close()}),this._headerCloseButton=i)},_setOption:function(n,t){"closeBtn"===n&&this._setCloseBtn(t),this._super(n,t)},close:function(){var r,i,t=n.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,n.mobile.hashListeningEnabled&&t.activeIndex>0?n.mobile.back():(r=Math.max(0,t.activeIndex-1),i=t.stack[r].pageUrl||t.stack[r].url,t.previousIndex=t.activeIndex,t.activeIndex=r,n.mobile.path.isPath(i)||(i=n.mobile.path.makeUrlAbsolute("#"+i)),n.mobile.changePage(i,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),n.mobile.document.delegate(n.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){n.mobile.dialog.prototype.enhance(this)})}(n,this),function(n){n.mobile.page.prototype.options.backBtnText="Back",n.mobile.page.prototype.options.addBackBtn=!1,n.mobile.page.prototype.options.backBtnTheme=null,n.mobile.page.prototype.options.headerTheme="a",n.mobile.page.prototype.options.footerTheme="a",n.mobile.page.prototype.options.contentTheme=null,n.mobile.document.bind("pagecreate",function(t){var r=n(t.target),i=r.data("mobile-page").options,f=r.jqmData("role"),u=i.theme;n(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",r).jqmEnhanceable().each(function(){var o,s,c,v,t=n(this),e=t.jqmData("role"),a=t.jqmData("theme"),l=a||i.contentTheme||"dialog"===f&&u,h;(t.addClass("ui-"+e),"header"===e||"footer"===e)?(h=a||("header"===e?i.headerTheme:i.footerTheme)||u,t.addClass("ui-bar-"+h).attr("role","header"===e?"banner":"contentinfo"),"header"===e&&(o=t.children("a, button"),s=o.hasClass("ui-btn-left"),c=o.hasClass("ui-btn-right"),s=s||o.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,c=c||o.eq(1).addClass("ui-btn-right").length),i.addBackBtn&&"header"===e&&n(".ui-page").length>1&&r.jqmData("url")!==n.mobile.path.stripHash(location.hash)&&!s&&(v=n("<a href='javascript:void(0);' class='ui-btn-left' data-"+n.mobile.ns+"rel='back' data-"+n.mobile.ns+"icon='arrow-l'>"+i.backBtnText+"</a>").attr("data-"+n.mobile.ns+"theme",i.backBtnTheme||h).prependTo(t)),t.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})):"content"===e&&(l&&t.addClass("ui-body-"+l),t.attr("role","main"))})})}(n),function(n,t){function e(n){for(var t;n&&(t="string"==typeof n.className&&n.className+" ",!(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0));)n=n.parentNode;return n}function u(r,u,f,e,o){var s=n.data(r[0],"buttonElements");r.removeClass(u).addClass(f),s&&(s.bcls=n(i.createElement("div")).addClass(s.bcls+" "+f).removeClass(u).attr("class"),e!==t&&(s.hover=e),s.state=o)}var r=function(n,i){var r=n.getAttribute(i);return"true"===r?!0:"false"===r?!1:null===r?t:r},f;n.fn.buttonMarkup=function(u){var p,g=this,c="data-"+n.mobile.ns,b;for(u=u&&"object"===n.type(u)?u:{},b=0;b<g.length;b++){var h,d,v,y,a,o,l=g.eq(b),s=l[0],e=n.extend({},n.fn.buttonMarkup.defaults,{icon:u.icon!==t?u.icon:r(s,c+"icon"),iconpos:u.iconpos!==t?u.iconpos:r(s,c+"iconpos"),theme:u.theme!==t?u.theme:r(s,c+"theme")||n.mobile.getInheritedTheme(l,"c"),inline:u.inline!==t?u.inline:r(s,c+"inline"),shadow:u.shadow!==t?u.shadow:r(s,c+"shadow"),corners:u.corners!==t?u.corners:r(s,c+"corners"),iconshadow:u.iconshadow!==t?u.iconshadow:r(s,c+"iconshadow"),mini:u.mini!==t?u.mini:r(s,c+"mini")},u),nt="ui-btn-inner",tt="ui-btn-text",k=!1,w="up";for(p in e)e[p]===t||null===e[p]?l.removeAttr(c+p):s.setAttribute(c+p,e[p]);for(o=n.data("INPUT"===s.tagName||"BUTTON"===s.tagName?s.parentNode:s,"buttonElements"),o?(s=o.outer,l=n(s),v=o.inner,y=o.text,n(o.icon).remove(),o.icon=null,k=o.hover,w=o.state):(v=i.createElement(e.wrapperEls),y=i.createElement(e.wrapperEls)),a=e.icon?i.createElement("span"):null,f&&!o&&f(),e.theme||(e.theme=n.mobile.getInheritedTheme(l,"c")),h="ui-btn ",h+=k?"ui-btn-hover-"+e.theme:"",h+=w?" ui-btn-"+w+"-"+e.theme:"",h+=e.shadow?" ui-shadow":"",h+=e.corners?" ui-btn-corner-all":"",e.mini!==t&&(h+=e.mini===!0?" ui-mini":" ui-fullsize"),e.inline!==t&&(h+=e.inline===!0?" ui-btn-inline":" ui-btn-block"),e.icon&&(e.icon="ui-icon-"+e.icon,e.iconpos=e.iconpos||"left",d="ui-icon "+e.icon,e.iconshadow&&(d+=" ui-icon-shadow")),e.iconpos&&(h+=" ui-btn-icon-"+e.iconpos,"notext"!==e.iconpos||l.attr("title")||l.attr("title",l.getEncodedText())),o&&l.removeClass(o.bcls||""),l.removeClass("ui-link").addClass(h),v.className=nt,y.className=tt,o||v.appendChild(y),a&&(a.className=d,o&&o.icon||(a.innerHTML="&#160;",v.appendChild(a)));s.firstChild&&!o;)y.appendChild(s.firstChild);o||s.appendChild(v),o={hover:k,state:w,bcls:h,outer:s,inner:v,text:y,icon:a},n.data(s,"buttonElements",o),n.data(v,"buttonElements",o),n.data(y,"buttonElements",o),a&&n.data(a,"buttonElements",o)}return this},n.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"},f=function(){var r,i,o=n.mobile.buttonMarkup.hoverDelay;n.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(f){var s,c=n(e(f.target)),l=f.originalEvent&&/^touch/.test(f.originalEvent.type),h=f.type;c.length&&(s=c.attr("data-"+n.mobile.ns+"theme"),"vmousedown"===h?l?r=setTimeout(function(){u(c,"ui-btn-up-"+s,"ui-btn-down-"+s,t,"down")},o):u(c,"ui-btn-up-"+s,"ui-btn-down-"+s,t,"down"):"vmousecancel"===h||"vmouseup"===h?u(c,"ui-btn-down-"+s,"ui-btn-up-"+s,t,"up"):"vmouseover"===h||"focus"===h?l?i=setTimeout(function(){u(c,"ui-btn-up-"+s,"ui-btn-hover-"+s,!0,"")},o):u(c,"ui-btn-up-"+s,"ui-btn-hover-"+s,!0,""):("vmouseout"===h||"blur"===h||"scrollstart"===h)&&(u(c,"ui-btn-hover-"+s+" ui-btn-down-"+s,"ui-btn-up-"+s,!1,"up"),r&&clearTimeout(r),i&&clearTimeout(i)))},"focusin focus":function(t){n(e(t.target)).addClass(n.mobile.focusClass)},"focusout blur":function(t){n(e(t.target)).removeClass(n.mobile.focusClass)}}),f=null},n.mobile.document.bind("pagecreate create",function(t){n(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(n),function(n,t){n.widget("mobile.collapsible",n.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var f=this.element,i=this.options,s=f.addClass("ui-collapsible"),u=f.children(i.heading).first(),o=s.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),r=f.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),e="";u.is("legend")&&(u=n("<div role='heading'>"+u.html()+"</div>").insertBefore(u),u.next().remove()),r.length?(i.theme||(i.theme=r.jqmData("theme")||n.mobile.getInheritedTheme(r,"c")),i.contentTheme||(i.contentTheme=r.jqmData("content-theme")),i.collapsedIcon=f.jqmData("collapsed-icon")||r.jqmData("collapsed-icon")||i.collapsedIcon,i.expandedIcon=f.jqmData("expanded-icon")||r.jqmData("expanded-icon")||i.expandedIcon,i.iconpos=f.jqmData("iconpos")||r.jqmData("iconpos")||i.iconpos,i.inset=r.jqmData("inset")!==t?r.jqmData("inset"):!0,i.corners=!1,i.mini||(i.mini=r.jqmData("mini"))):i.theme||(i.theme=n.mobile.getInheritedTheme(f,"c")),i.inset&&(e+=" ui-collapsible-inset",i.corners&&(e+=" ui-corner-all")),i.contentTheme&&(e+=" ui-collapsible-themed-content",o.addClass("ui-body-"+i.contentTheme)),""!==e&&s.addClass(e),u.insertBefore(o).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:i.iconpos,icon:i.collapsedIcon,mini:i.mini,theme:i.theme}),s.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var f=n(this),r="collapse"===t.type;t.preventDefault(),u.toggleClass("ui-collapsible-heading-collapsed",r).find(".ui-collapsible-heading-status").text(r?i.expandCueText:i.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+i.expandedIcon,!r).toggleClass("ui-icon-"+i.collapsedIcon,r||i.expandedIcon===i.collapsedIcon).end().find("a").first().removeClass(n.mobile.activeBtnClass),f.toggleClass("ui-collapsible-collapsed",r),o.toggleClass("ui-collapsible-content-collapsed",r).attr("aria-hidden",r),o.trigger("updatelayout")}}).trigger(i.collapsed?"collapse":"expand"),u.bind("tap",function(){u.find("a").first().addClass(n.mobile.activeBtnClass)}).bind("click",function(n){var t=u.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";s.trigger(t),n.preventDefault(),n.stopPropagation()})}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.collapsible.prototype.enhanceWithin(t.target)})}(n),function(n){n.mobile.behaviors.addFirstLastClasses={_getVisibles:function(n,t){var i;return t?i=n.not(".ui-screen-hidden"):(i=n.filter(":visible"),0===i.length&&(i=n.not(".ui-screen-hidden"))),i},_addFirstLastClasses:function(n,t,i){n.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),i||this.element.trigger("updatelayout")}}}(n),function(n,t){n.widget("mobile.collapsibleset",n.mobile.widget,n.extend({options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var r=this.element.addClass("ui-collapsible-set"),i=this.options;i.theme||(i.theme=n.mobile.getInheritedTheme(r,"c")),i.contentTheme||(i.contentTheme=r.jqmData("content-theme")),i.corners||(i.corners=r.jqmData("corners")),r.jqmData("inset")!==t&&(i.inset=r.jqmData("inset")),i.inset=i.inset!==t?i.inset:!0,i.corners=i.corners!==t?i.corners:!0,i.corners&&i.inset&&r.addClass("ui-corner-all"),r.jqmData("collapsiblebound")||r.jqmData("collapsiblebound",!0).bind("expand",function(t){var i=n(t.target).closest(".ui-collapsible");i.parent().is(":jqmData(role='collapsible-set')")&&i.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var i=this.element,t=i.children(":jqmData(role='collapsible')"),n=t.filter(":jqmData(collapsed='false')");this._refresh("true"),n.trigger("expand")},_refresh:function(t){var i=this.element.children(":jqmData(role='collapsible')");n.mobile.collapsible.prototype.enhance(i.not(".ui-collapsible")),this._addFirstLastClasses(i,this._getVisibles(i,t),t)},refresh:function(){this._refresh(!1)}},n.mobile.behaviors.addFirstLastClasses)),n.mobile.document.bind("pagecreate create",function(t){n.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(n),function(n){n.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},n(i).bind("pagecreate create",function(t){n(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(n),function(n){n.fn.grid=function(t){return this.each(function(){var i,o=n(this),s=n.extend({grid:null},t),r=o.children(),e={solo:1,a:2,b:3,c:4,d:5},u=s.grid,f;if(!u)if(r.length<=5)for(f in e)e[f]===r.length&&(u=f);else u="a",o.addClass("ui-grid-duo");i=e[u],o.addClass("ui-grid-"+u),r.filter(":nth-child("+i+"n+1)").addClass("ui-block-a"),i>1&&r.filter(":nth-child("+i+"n+2)").addClass("ui-block-b"),i>2&&r.filter(":nth-child("+i+"n+3)").addClass("ui-block-c"),i>3&&r.filter(":nth-child("+i+"n+4)").addClass("ui-block-d"),i>4&&r.filter(":nth-child("+i+"n+5)").addClass("ui-block-e")})}}(n),function(n,t){n.widget("mobile.navbar",n.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var u=this.element,r=u.find("a"),f=r.filter(":jqmData(icon)").length?this.options.iconpos:t;u.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),r.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:f}),u.delegate("a","vclick",function(t){var f=n(t.target).is("a")?n(this):n(this).parent("a"),u;if(!f.is(".ui-disabled, .ui-btn-active")){r.removeClass(n.mobile.activeBtnClass),n(this).addClass(n.mobile.activeBtnClass),u=n(this);n(i).one("pagehide",function(){u.removeClass(n.mobile.activeBtnClass)})}}),u.closest(".ui-page").bind("pagebeforeshow",function(){r.filter(".ui-state-persist").addClass(n.mobile.activeBtnClass)})}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.navbar.prototype.enhanceWithin(t.target)})}(n),function(n){var t={};n.widget("mobile.listview",n.mobile.widget,n.extend({options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var n=this,t="";t+=n.options.inset?" ui-listview-inset":"",n.options.inset&&(t+=n.options.corners?" ui-corner-all":"",t+=n.options.shadow?" ui-shadow":""),n.element.addClass(function(n,i){return i+" ui-listview"+t}),n.refresh(!0)},_findFirstElementByTagName:function(n,t,i,r){var u={};for(u[i]=u[r]=!0;n;){if(u[n.nodeName])return n;n=n[t]}return null},_getChildrenByTagName:function(t,i,r){var f=[],u={};for(u[i]=u[r]=!0,t=t.firstChild;t;)u[t.nodeName]&&f.push(t),t=t.nextSibling;return n(f)},_addThumbClasses:function(t){for(var i,u=t.length,r=0;u>r;r++)i=n(this._findFirstElementByTagName(t[r].firstChild,"nextSibling","img","IMG")),i.length&&(i.addClass("ui-li-thumb"),n(this._findFirstElementByTagName(i[0].parentNode,"parentNode","li","LI")).addClass(i.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){var w,d,k;this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var r,u,b,s,l,rt,y,g,nt,tt,v,it,o=this.options,f=this.element,et=f.jqmData("dividertheme")||o.dividerTheme,ut=f.jqmData("splittheme"),ft=f.jqmData("spliticon"),ot=f.jqmData("icon"),c=this._getChildrenByTagName(f[0],"li","LI"),p=!!n.nodeName(f[0],"ol"),h=!n.support.cssPseudoElement,e=f.attr("start"),a={};for(p&&h&&f.find(".ui-li-dec").remove(),p&&(e||0===e?h?y=parseInt(e,10):(g=parseInt(e,10)-1,f.css("counter-reset","listnumbering "+g)):h&&(y=1)),o.theme||(o.theme=n.mobile.getInheritedTheme(this.element,"c")),w=0,d=c.length;d>w;w++)(r=c.eq(w),u="ui-li",t||!r.hasClass("ui-li"))&&(b=r.jqmData("theme")||o.theme,s=this._getChildrenByTagName(r[0],"a","A"),k="list-divider"===r.jqmData("role"),s.length&&!k?(v=r.jqmData("icon"),r.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:s.length>1||v===!1?!1:v||ot||o.icon,theme:b}),v!==!1&&1===s.length&&r.addClass("ui-li-has-arrow"),s.first().removeClass("ui-link").addClass("ui-link-inherit"),s.length>1&&(u+=" ui-li-has-alt",l=s.last(),rt=ut||l.jqmData("theme")||o.splitTheme,it=l.jqmData("icon"),l.appendTo(r).attr("title",n.trim(l.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:b,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(n(i.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:rt,iconpos:"notext",icon:it||v||ft||o.splitIcon})))):k?(u+=" ui-li-divider ui-bar-"+(r.jqmData("theme")||et),r.attr("role","heading"),p&&(e||0===e?h?y=parseInt(e,10):(nt=parseInt(e,10)-1,r.css("counter-reset","listnumbering "+nt)):h&&(y=1))):u+=" ui-li-static ui-btn-up-"+b),p&&h&&u.indexOf("ui-li-divider")<0&&(tt=u.indexOf("ui-li-static")>0?r:r.find(".ui-link-inherit"),tt.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+y+++". </span>")),a[u]||(a[u]=[]),a[u].push(r[0]);for(u in a)n(a[u]).addClass(u).children(".ui-btn-inner").addClass(u);f.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=n(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){n(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(f.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(c),this._addThumbClasses(f.find(".ui-link-inherit")),this._addFirstLastClasses(c,this._getVisibles(c,t),t),this._trigger("afterrefresh")},_idStringEscape:function(n){return n.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var l,u=this.element,r=u.closest(".ui-page"),s=r.jqmData("url"),e=s||r[0][n.expando],o=u.attr("id"),f=this.options,i="data-"+n.mobile.ns,a=this,h=r.find(":jqmData(role='footer')").jqmData("id"),c;("undefined"==typeof t[e]&&(t[e]=-1),o=o||++t[e],n(u.find("li>ul, li>ol").toArray().reverse()).each(function(t){var w,e,r=n(this),d=r.attr("id")||o+"-"+t,c=r.parent(),y=n(r.prevAll().toArray().reverse()),p=y.length?y:n("<span>"+n.trim(c.contents()[0].nodeValue)+"</span>"),a=p.first().getEncodedText(),v=(s||"")+"&"+n.mobile.subPageUrlKey+"="+d,k=r.jqmData("theme")||f.theme,b=r.jqmData("counttheme")||u.jqmData("counttheme")||f.countTheme;l=!0,w=r.detach().wrap("<div "+i+"role='page' "+i+"url='"+v+"' "+i+"theme='"+k+"' "+i+"count-theme='"+b+"'><div "+i+"role='content'></div></div>").parent().before("<div "+i+"role='header' "+i+"theme='"+f.headerTheme+"'><div class='ui-title'>"+a+"</div></div>").after(h?n("<div "+i+"role='footer' "+i+"id='"+h+"'>"):"").parent().appendTo(n.mobile.pageContainer),w.page(),e=c.find("a:first"),e.length||(e=n("<a/>").html(p||a).prependTo(c.empty())),e.attr("href","#"+v)}).listview(),l&&r.is(":jqmData(external-page='true')")&&r.data("mobile-page").options.domCache===!1)&&(c=function(t,i){var f,e=i.nextPage,u=new n.Event("pageremove");i.nextPage&&(f=e.jqmData("url"),0!==f.indexOf(s+"&"+n.mobile.subPageUrlKey)&&(a.childPages().remove(),r.trigger(u),u.isDefaultPrevented()||r.removeWithDependents()))},r.unbind("pagehide.remove").bind("pagehide.remove",c))},childPages:function(){var t=this.parentPage.jqmData("url");return n(":jqmData(url^='"+t+"&"+n.mobile.subPageUrlKey+"')")}},n.mobile.behaviors.addFirstLastClasses)),n.mobile.document.bind("pagecreate create",function(t){n.mobile.listview.prototype.enhanceWithin(t.target)})}(n),function(n){var r=n("meta[name=viewport]"),i=r.attr("content"),u=i+",maximum-scale=1, user-scalable=no",f=i+",maximum-scale=10, user-scalable=yes",t=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);n.mobile.zoom=n.extend({},{enabled:!t,locked:!1,disable:function(i){t||n.mobile.zoom.locked||(r.attr("content",u),n.mobile.zoom.enabled=!1,n.mobile.zoom.locked=i||!1)},enable:function(i){t||n.mobile.zoom.locked&&i!==!0||(r.attr("content",f),n.mobile.zoom.enabled=!0,n.mobile.zoom.locked=!1)},restore:function(){t||(r.attr("content",i),n.mobile.zoom.enabled=!0)}})}(n),function(n){n.widget("mobile.textinput",n.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function v(){setTimeout(function(){o.toggleClass("ui-input-clear-hidden",!t.val())},0)}var r,o,p=this,t=this.element,i=this.options,a=i.theme||n.mobile.getInheritedTheme(this.element,"c"),f=" ui-body-"+a,e=i.mini?" ui-mini":"",u=t.is("[type='search'], :jqmData(type='search')"),y=i.clearSearchButtonText||i.clearBtnText,b=t.is("textarea, :jqmData(type='range')"),w=!!i.clearBtn&&!b,s=t.is("input")&&!t.is(":jqmData(type='range')"),h,c,l;(n("label[for='"+t.attr("id")+"']").addClass("ui-input-text"),r=t.addClass("ui-input-text ui-body-"+a),"undefined"==typeof t[0].autocorrect||n.support.touchOverflow||(t[0].setAttribute("autocorrect","off"),t[0].setAttribute("autocomplete","off")),u?r=t.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+f+e+"'></div>").parent():s&&(r=t.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+f+e+"'></div>").parent()),w||u?(o=n("<a href='#' class='ui-input-clear' title='"+y+"'>"+y+"</a>").bind("click",function(n){t.val("").focus().trigger("change"),o.addClass("ui-input-clear-hidden"),n.preventDefault()}).appendTo(r).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:i.mini}),u||r.addClass("ui-input-has-clear"),v(),t.bind("paste cut keyup input focus change blur",v)):s||u||t.addClass("ui-corner-all ui-shadow-inset"+f+e),t.focus(function(){i.preventFocusZoom&&n.mobile.zoom.disable(!0),r.addClass(n.mobile.focusClass)}).blur(function(){r.removeClass(n.mobile.focusClass),i.preventFocusZoom&&n.mobile.zoom.enable(!0)}),t.is("textarea"))&&(c=15,l=100,this._keyup=function(){var n=t[0].scrollHeight,u=t[0].clientHeight;if(n>u){var f=parseFloat(t.css("padding-top")),i=parseFloat(t.css("padding-bottom")),r=f+i;t.height(n-r+c)}},t.on("keyup change input paste",function(){clearTimeout(h),h=setTimeout(p._keyup,l)}),this._on(!0,n.mobile.document,{pagechange:"_keyup"}),n.trim(t.val())&&this._on(!0,n.mobile.window,{load:"_keyup"})),t.attr("disabled")&&this.disable()},disable:function(){var n,r=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),t=this.element.attr("disabled",!0)&&(i||r);return n=t?this.element.parent():this.element,n.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var n,r=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),t=this.element.attr("disabled",!1)&&(i||r);return n=t?this.element.parent():this.element,n.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.mobile.listview.prototype.options.filter=!1,n.mobile.listview.prototype.options.filterPlaceholder="Filter items...",n.mobile.listview.prototype.options.filterTheme="c",n.mobile.listview.prototype.options.filterReveal=!1;var t=function(n,t){return-1===n.toString().toLowerCase().indexOf(t)};n.mobile.listview.prototype.options.filterCallback=t,n.mobile.document.delegate("ul, ol","listviewcreate",function(){var r=n(this),i=r.data("mobile-listview");if(i&&i.options.filter){i.options.filterReveal&&r.children().addClass("ui-screen-hidden");var u=n("<form>",{"class":"ui-listview-filter ui-bar-"+i.options.filterTheme,role:"search"}).submit(function(n){n.preventDefault(),f.blur()}),e=function(){var f,a=n(this),e=this.value.toLowerCase(),u=null,c=r.children(),o=a.jqmData("lastval")+"",h=!1,l="",v=i.options.filterCallback!==t,s;if(!o||o!==e){if(i._trigger("beforefilter","beforefilter",{input:this}),a.jqmData("lastval",e),v||e.length<o.length||0!==e.indexOf(o)?u=r.children():(u=r.children(":not(.ui-screen-hidden)"),!u.length&&i.options.filterReveal&&(u=r.children(".ui-screen-hidden"))),e){for(s=u.length-1;s>=0;s--)f=n(u[s]),l=f.jqmData("filtertext")||f.text(),f.is("li:jqmData(role=list-divider)")?(f.toggleClass("ui-filter-hidequeue",!h),h=!1):i.options.filterCallback(l,e,f)?f.toggleClass("ui-filter-hidequeue",!0):h=!0;u.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),u.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else u.toggleClass("ui-screen-hidden",!!i.options.filterReveal);i._addFirstLastClasses(c,i._getVisibles(c,!1),!1)}},f=n("<input>",{placeholder:i.options.filterPlaceholder}).attr("data-"+n.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",e).appendTo(u).textinput();i.options.inset&&u.addClass("ui-listview-filter-inset"),u.bind("submit",function(){return!1}).insertBefore(r)}})}(n),function(n){n.mobile.listview.prototype.options.autodividers=!1,n.mobile.listview.prototype.options.autodividersSelector=function(t){var i=n.trim(t.text())||null;return i?i=i.slice(0,1).toUpperCase():null},n.mobile.document.delegate("ul,ol","listviewcreate",function(){var t=n(this),u=t.data("mobile-listview"),f,r;u&&u.options.autodividers&&(f=function(){var f;t.find("li:jqmData(role='list-divider')").remove();for(var e,r,s=t.find("li"),h=null,o=0;o<s.length;o++)(e=s[o],r=u.options.autodividersSelector(n(e)),r&&h!==r)&&(f=i.createElement("li"),f.appendChild(i.createTextNode(r)),f.setAttribute("data-"+n.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(f,e)),h=r},r=function(){t.unbind("listviewafterrefresh",r),f(),u.refresh(),t.bind("listviewafterrefresh",r)},r())})}(n),function(n){n(i).bind("pagecreate create",function(t){n(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(n),function(n){n.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(n),function(n){n.widget("mobile.checkboxradio",n.mobile.widget,n.extend({options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var f=this,t=this.element,e=this.options,l=function(n,t){return n.jqmData(t)||n.closest("form, fieldset").jqmData(t)},h=n(t).closest("label"),u=h.length?h:n(t).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+t[0].id+"']").first(),r=t[0].type,v=l(t,"mini")||e.mini,c=r+"-on",o=r+"-off",y=l(t,"iconpos"),p="ui-"+c,a="ui-"+o,s;("checkbox"===r||"radio"===r)&&(n.extend(this,{label:u,inputtype:r,checkedClass:p,uncheckedClass:a,checkedicon:c,uncheckedicon:o}),e.theme||(e.theme=n.mobile.getInheritedTheme(this.element,"c")),u.buttonMarkup({theme:e.theme,icon:o,shadow:!1,mini:v,iconpos:y}),s=i.createElement("div"),s.className="ui-"+r,t.add(u).wrapAll(s),u.bind({vmouseover:function(t){n(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(n){return t.is(":disabled")?(n.preventDefault(),void 0):(f._cacheVals(),t.prop("checked","radio"===r&&!0||!t.prop("checked")),t.triggerHandler("click"),f._getInputSet().not(t).prop("checked",!1),f._updateAll(),!1)}}),t.bind({vmousedown:function(){f._cacheVals()},vclick:function(){var t=n(this);t.is(":checked")?(t.prop("checked",!0),f._getInputSet().not(t).prop("checked",!1)):t.prop("checked",!1),f._updateAll()},focus:function(){u.addClass(n.mobile.focusClass)},blur:function(){u.removeClass(n.mobile.focusClass)}}),this._handleFormReset(),this.refresh())},_cacheVals:function(){this._getInputSet().each(function(){n(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var i=n(this);(this.checked||"checkbox"===t.inputtype)&&i.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var r=this.element[0],u=" "+n.mobile.activeBtnClass,t=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?u:""),i=this.label;r.checked?i.removeClass(this.uncheckedClass+u).addClass(t).buttonMarkup({icon:this.checkedicon}):i.removeClass(t).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),r.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}},n.mobile.behaviors.formReset)),n.mobile.document.bind("pagecreate create",function(t){n.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.button",n.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var r,t=this.element,u=function(n){var t,i={};for(t in n)null!==n[t]&&"initSelector"!==t&&(i[t]=n[t]);return i}(this.options),i="";return"A"===t[0].tagName?(t.hasClass("ui-btn")||t.buttonMarkup(),void 0):(this.options.theme||(this.options.theme=n.mobile.getInheritedTheme(this.element,"c")),~t[0].className.indexOf("ui-btn-left")&&(i="ui-btn-left"),~t[0].className.indexOf("ui-btn-right")&&(i="ui-btn-right"),("submit"===t.attr("type")||"reset"===t.attr("type"))&&(i?i+=" ui-submit":i="ui-submit"),n("label[for='"+t.attr("id")+"']").addClass("ui-submit"),this.button=n("<div></div>")[t.html()?"html":"text"](t.html()||t.val()).insertBefore(t).buttonMarkup(u).addClass(i).append(t.addClass("ui-btn-hidden")),r=this.button,t.bind({focus:function(){r.addClass(n.mobile.focusClass)},blur:function(){r.removeClass(n.mobile.focusClass)}}),this.refresh(),void 0)},_setOption:function(t,i){var r={};r[t]=i,"initSelector"!==t&&(this.button.buttonMarkup(r),this.element.attr("data-"+(n.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),i)),this._super("_setOption",t,i)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable(),n(this.button.data("buttonElements").text)[t.html()?"html":"text"](t.html()||t.val())}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.button.prototype.enhanceWithin(t.target,!0)})}(n),function(n,r){n.widget("mobile.slider",n.mobile.widget,n.extend({widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var a,o,ut=this,u=this.element,b=n.mobile.getInheritedTheme(u,"c"),ct=this.options.theme||b,y=this.options.trackTheme||b,p=u[0].nodeName.toLowerCase(),w=(this.isToggleSwitch="select"===p,u.parent().is(":jqmData(role='rangeslider')")),st=this.isToggleSwitch?"ui-slider-switch":"",rt=u.attr("id"),tt=n("[for='"+rt+"']"),nt=tt.attr("id")||rt+"-label",lt=tt.attr("id",nt),k=this.isToggleSwitch?0:parseFloat(u.attr("min")),it=this.isToggleSwitch?u.find("option").length-1:parseFloat(u.attr("max")),ht=t.parseFloat(u.attr("step")||1),ot=this.options.mini||u.jqmData("mini")?" ui-mini":"",h=i.createElement("a"),v=n(h),e=i.createElement("div"),f=n(e),at=this.options.highlight&&!this.isToggleSwitch?function(){var t=i.createElement("div");return t.className="ui-slider-bg "+n.mobile.activeBtnClass+" ui-btn-corner-all",n(t).prependTo(f)}():!1,l,g,s,d;if(h.setAttribute("href","#"),e.setAttribute("role","application"),e.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",st," ui-btn-down-",y," ui-btn-corner-all",ot].join(""),h.className="ui-slider-handle",e.appendChild(h),v.buttonMarkup({corners:!0,theme:ct,shadow:!0}).attr({role:"slider","aria-valuemin":k,"aria-valuemax":it,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":nt}),n.extend(this,{slider:f,handle:v,type:p,step:ht,max:it,min:k,valuebg:at,isRangeslider:w,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){for(o=i.createElement("div"),o.className="ui-slider-inneroffset",l=0,g=e.childNodes.length;g>l;l++)o.appendChild(e.childNodes[l]);for(e.appendChild(o),v.addClass("ui-slider-handle-snapping"),a=u.find("option"),s=0,d=a.length;d>s;s++){var et=s?"a":"b",ft=s?" "+n.mobile.activeBtnClass:" ui-btn-down-"+y,c=(i.createElement("div"),i.createElement("span"));c.className=["ui-slider-label ui-slider-label-",et,ft," ui-btn-corner-all"].join(""),c.setAttribute("role","img"),c.appendChild(i.createTextNode(a[s].innerHTML)),n(c).prependTo(f)}ut._labels=n(".ui-slider-label",f)}lt.addClass("ui-slider"),u.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input"),this._on(u,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),f.bind("vmousedown",n.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(i,{vmousemove:"_preventDocumentDrag"}),this._on(f.add(i),{vmouseup:"_sliderVMouseUp"}),f.insertAfter(u),this.isToggleSwitch||w||(o=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",u.add(f).wrapAll(o)),this.isToggleSwitch&&this.handle.bind({focus:function(){f.addClass(n.mobile.focusClass)},blur:function(){f.removeClass(n.mobile.focusClass)}}),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(r,r,!0)},_controlChange:function(n){return this._trigger("controlchange",n)===!1?!1:(this.mouseMoved||this.refresh(this._value(),!0),void 0)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var i=this._value();if(!this.options.disabled){switch(t.keyCode){case n.mobile.keyCode.HOME:case n.mobile.keyCode.END:case n.mobile.keyCode.PAGE_UP:case n.mobile.keyCode.PAGE_DOWN:case n.mobile.keyCode.UP:case n.mobile.keyCode.RIGHT:case n.mobile.keyCode.DOWN:case n.mobile.keyCode.LEFT:t.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case n.mobile.keyCode.HOME:this.refresh(this.min);break;case n.mobile.keyCode.END:this.refresh(this.max);break;case n.mobile.keyCode.PAGE_UP:case n.mobile.keyCode.UP:case n.mobile.keyCode.RIGHT:this.refresh(i+this.step);break;case n.mobile.keyCode.PAGE_DOWN:case n.mobile.keyCode.DOWN:case n.mobile.keyCode.LEFT:this.refresh(i-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(n){return this.options.disabled||1!==n.which&&0!==n.which&&n.which!==r?!1:this._trigger("beforestart",n)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(n),this._trigger("start"),!1)},_sliderVMouseUp:function(){if(this.dragging)return this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1},_preventDocumentDrag:function(n){return this._trigger("drag",n)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(n),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(r,!1,!0)},refresh:function(t,r,u){var y,a,v,g,ut=this,rt=n.mobile.getInheritedTheme(this.element,"c"),ot=this.options.theme||rt,ft=this.options.trackTheme||rt,tt,w;ut.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+ft," ui-btn-corner-all",this.options.mini?" ui-mini":""].join(""),(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var t=i.createElement("div");return t.className="ui-slider-bg "+n.mobile.activeBtnClass+" ui-btn-corner-all",n(t).prependTo(ut.slider)}()),this.handle.buttonMarkup({corners:!0,theme:ot,shadow:!0});var p,e,o=this.element,h=!this.isToggleSwitch,b=h?[]:o.find("option"),s=h?parseFloat(o.attr("min")):0,l=h?parseFloat(o.attr("max")):b.length-1,c=h&&parseFloat(o.attr("step"))>0?parseFloat(o.attr("step")):1;if("object"==typeof t){if(v=t,g=8,y=this.slider.offset().left,a=this.slider.width(),p=a/((l-s)/c),!this.dragging||v.pageX<y-g||v.pageX>y+a+g)return;e=p>1?100*((v.pageX-y)/a):Math.round(100*((v.pageX-y)/a))}else null==t&&(t=h?parseFloat(o.val()||0):o[0].selectedIndex),e=100*((parseFloat(t)-s)/(l-s));if(!isNaN(e)){var f=e/100*(l-s)+s,d=(f-s)%c,it=f-d;if(2*Math.abs(d)>=c&&(it+=d>0?c:-c),tt=100/((l-s)/c),f=parseFloat(it.toFixed(5)),"undefined"==typeof p&&(p=a/((l-s)/c)),p>1&&h&&(e=(f-s)*tt*(1/c)),0>e&&(e=0),e>100&&(e=100),s>f&&(f=s),f>l&&(f=l),this.handle.css("left",e+"%"),this.handle[0].setAttribute("aria-valuenow",h?f:b.eq(f).attr("value")),this.handle[0].setAttribute("aria-valuetext",h?f:b.eq(f).getEncodedText()),this.handle[0].setAttribute("title",h?f:b.eq(f).getEncodedText()),this.valuebg&&this.valuebg.css("width",e+"%"),this._labels){var k=100*(this.handle.width()/this.slider.width()),nt=e&&k+(100-k)*e/100,et=100===e?0:Math.min(k+100-nt,100);this._labels.each(function(){var t=n(this).is(".ui-slider-label-a");n(this).width((t?nt:et)+"%")})}if(!u){if(w=!1,h?(w=o.val()!==f,o.val(f)):(w=o[0].selectedIndex!==f,o[0].selectedIndex=f),this._trigger("beforechange",t)===!1)return!1;!r&&w&&o.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}},n.mobile.behaviors.formReset)),n.mobile.document.bind("pagecreate create",function(t){n.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.rangeslider",n.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var s,t=this.element,c=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",i=t.find("input").first(),f=t.find("input").last(),h=t.find("label").first(),o=n.data(i.get(0),"mobileSlider").slider,r=n.data(f.get(0),"mobileSlider").slider,e=n.data(i.get(0),"mobileSlider").handle,u=n('<div class="ui-rangeslider-sliders" />').appendTo(t);t.find("label").length>1&&(s=t.find("label").last().hide()),i.addClass("ui-rangeslider-first"),f.addClass("ui-rangeslider-last"),t.addClass(c),o.appendTo(u),r.appendTo(u),h.prependTo(t),e.prependTo(r),n.extend(this,{_inputFirst:i,_inputLast:f,_sliderFirst:o,_sliderLast:r,_targetVal:null,_sliderTarget:!1,_sliders:u,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(e,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var n=this;setTimeout(function(){n._updateHighlight()},0)},_dragFirstHandle:function(t){return n.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,n.data(this._inputFirst.get(0),"mobileSlider").refresh(t),!1},_slidedrag:function(t){var i=n(t.target).is(this._inputFirst),r=i?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&i||"last"===this._proxy&&!i?(n.data(r.get(0),"mobileSlider").dragging=!0,n.data(r.get(0),"mobileSlider").refresh(t),!1):void 0},_slidestop:function(t){var i=n(t.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",i?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1,n(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=n(t.target).val())},_setOption:function(n){this._superApply(n),this.refresh()},refresh:function(){var t=this.element,n=this.options;t.find("input").slider({theme:n.theme,trackTheme:n.trackTheme,disabled:n.disabled,mini:n.mini,highlight:n.highlight}).slider("refresh"),this._updateHighlight()},_change:function(t){if("keyup"===t.type)return this._updateHighlight(),!1;var o=this,u=parseFloat(this._inputFirst.val(),10),i=parseFloat(this._inputLast.val(),10),r=n(t.target).hasClass("ui-rangeslider-first"),f=r?this._inputFirst:this._inputLast,e=r?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===t.type&&!n(t.target).hasClass("ui-slider-handle"))f.blur();else if("mousedown"===t.type)return;return u>i&&!this._sliderTarget?(f.val(r?i:u).slider("refresh"),this._trigger("normalize")):u>i&&(f.val(this._targetVal).slider("refresh"),setTimeout(function(){e.val(r?u:i).slider("refresh"),n.data(e.get(0),"mobileSlider").handle.focus(),o._sliderFirst.css("z-index",r?"":1),o._trigger("normalize")},0),this._proxy=r?"first":"last"),u===i?(n.data(f.get(0),"mobileSlider").handle.css("z-index",1),n.data(e.get(0),"mobileSlider").handle.css("z-index",0)):(n.data(e.get(0),"mobileSlider").handle.css("z-index",""),n.data(f.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),u>=i?!1:void 0},_updateHighlight:function(){var t=parseInt(n.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),r=parseInt(n.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),i=r-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:i+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show(),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}}),n.widget("mobile.rangeslider",n.mobile.rangeslider,n.mobile.behaviors.formReset),n(i).bind("pagecreate create",function(t){n.mobile.rangeslider.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.selectmenu",n.mobile.widget,n.extend({options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return n("<div/>")},_setDisabled:function(n){return this.element.attr("disabled",n),this.button.attr("aria-disabled",n),this._setOption("disabled",n)},_focusButton:function(){var n=this;setTimeout(function(){n.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";~this.element[0].className.indexOf("ui-btn-left")&&(t=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(t=" ui-btn-right"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+t+"'>"),this.selectID=this.select.attr("id"),this.label=n("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=n.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var n=this.element.parents(".ui-select");n.length>0&&(n.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(n.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(n),n.remove())},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var f=this,i=this.options,e=i.inline||this.select.jqmData("inline"),o=i.mini||this.select.jqmData("mini"),u=i.icon?i.iconpos||this.select.jqmData("iconpos"):!1,r=(-1===this.select[0].selectedIndex?0:this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:i.theme,icon:i.icon,iconpos:u,inline:e,corners:i.corners,shadow:i.shadow,iconshadow:i.iconshadow,mini:o}));this.setButtonText(),i.nativeMenu&&t.opera&&t.opera.version&&r.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=n("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(r.addClass("ui-li-has-count"))),(i.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){f.refresh(),i.nativeMenu&&this.blur()}),this._handleFormReset(),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(n.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(n.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(n.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(n.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(n.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){n.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&n.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var n=this;return this.selected().map(function(){return n._selectOptions().index(this)}).get()},setButtonText:function(){var u=this,t=this.selected(),r=this.placeholder,f=n(i.createElement("span"));this.button.find(".ui-btn-text").html(function(){return r=t.length?t.map(function(){return n(this).text()}).get().join(", "):u.placeholder,f.text(r).addClass(u.select.attr("class")).addClass(t.attr("class"))})},setButtonCount:function(){var n=this.selected();this.isMultiple&&this.buttonCount[n.length>1?"show":"hide"]().text(n.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText(),this.setButtonCount()},open:n.noop,close:n.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}},n.mobile.behaviors.formReset)),n.mobile.document.bind("pagecreate create",function(t){n.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(n),function(n,r){function f(n,t,i,r){var u=r;return u=t>n?i+(n-t)/2:Math.min(Math.max(i,r-t/2),i+n-t)}function u(){var i=n.mobile.window;return{x:i.scrollLeft(),y:i.scrollTop(),cx:t.innerWidth||i.width(),cy:t.innerHeight||i.height()}}n.widget("mobile.popup",n.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!n.mobile.browser.oldIE},_eatEventAndClose:function(n){return n.preventDefault(),n.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var n=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),n>this._ui.screen.height()&&this._ui.screen.height(n)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===n.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_expectResizeEvent:function(){var t=u();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(n.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var n=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){n._ignoreResizeTo=0},1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var u,f=t.target,r=this._ui;if(this._isOpen){if(f!==r.container[0]){if(u=n(t.target),0===u.parents().filter(r.container[0]).length)return n(i.activeElement).one("focus",function(){u.blur()}),r.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;r.focusElement[0]===r.container[0]&&(r.focusElement=u)}this._ignoreResizeEvents()}},_create:function(){var t={screen:n("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:n("<div style='display: none;'><!-- placeholder --></div>"),container:n("<div class='ui-popup-container ui-popup-hidden'></div>")},r=this.element.closest(".ui-page"),u=this.element.attr("id"),i=this.options;i.history=i.history&&n.mobile.ajaxEnabled&&n.mobile.hashListeningEnabled,0===r.length&&(r=n("body")),i.container=i.container||n.mobile.pageContainer||r,r.append(t.screen),t.container.insertAfter(t.screen),t.placeholder.insertAfter(this.element),u&&(t.screen.attr("id",u+"-screen"),t.container.attr("id",u+"-popup"),t.placeholder.html("<!-- placeholder for "+u+" -->")),t.container.append(this.element),t.focusElement=t.container,this.element.addClass("ui-popup"),n.extend(this,{_scrollTop:0,_page:r,_ui:t,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),this._applyTheme(this.element,i.theme,"body"),this._applyTheme(this._ui.screen,i.overlayTheme,"overlay"),this._applyTransition(i.transition),this.element.toggleClass("ui-overlay-shadow",i.shadow).toggleClass("ui-corner-all",i.corners),this._setTolerance(i.tolerance),t.screen.bind("vclick",n.proxy(this,"_eatEventAndClose")),this._on(n.mobile.window,{orientationchange:n.proxy(this,"_handleWindowOrientationchange"),resize:n.proxy(this,"_handleWindowResize"),keyup:n.proxy(this,"_handleWindowKeyUp")}),this._on(n.mobile.document,{focusin:n.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(n,t,i){for(var u,f=(n.attr("class")||"").split(" "),r=null,e=String(t);f.length>0;){if(r=f.pop(),u=new RegExp("^ui-"+i+"-([a-z])$").exec(r),u&&u.length>1){r=u[1];break}r=null}t!==r&&(n.removeClass("ui-"+i+"-"+r),null!==t&&"none"!==t&&n.addClass("ui-"+i+"-"+e))},_setTheme:function(n){this._applyTheme(this.element,n,"body")},_setOverlayTheme:function(n){this._applyTheme(this._ui.screen,n,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(n){this.element.toggleClass("ui-overlay-shadow",n)},_setCorners:function(n){this.element.toggleClass("ui-corner-all",n)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition),t&&"none"!==t&&(this._fallbackTransition=n.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(n){this._currentTransition||this._applyTransition(n)},_setTolerance:function(t){var u={t:30,r:15,b:30,l:15},i;if(t!==r){i=String(t).split(",");switch(n.each(i,function(n,t){i[n]=parseInt(t,10)}),i.length){case 1:isNaN(i[0])||(u.t=u.r=u.b=u.l=i[0]);break;case 2:isNaN(i[0])||(u.t=u.b=i[0]),isNaN(i[1])||(u.l=u.r=i[1]);break;case 4:isNaN(i[0])||(u.t=i[0]),isNaN(i[1])||(u.r=i[1]),isNaN(i[2])||(u.b=i[2]),isNaN(i[3])||(u.l=i[3])}}this._tolerance=u},_setOption:function(n,t){var i="_set"+n.charAt(0).toUpperCase()+n.slice(1);this[i]!==r&&this[i](t),this._super(n,t)},_placementCoords:function(n){var e,t,s=u(),r={x:this._tolerance.l,y:s.y+this._tolerance.t,cx:s.cx-this._tolerance.l-this._tolerance.r,cy:s.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",r.cx),e={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},t={x:f(r.cx,e.cx,r.x,n.x),y:f(r.cy,e.cy,r.y,n.y)},t.y=Math.max(0,t.y);var o=i.documentElement,h=i.body,c=Math.max(o.clientHeight,h.scrollHeight,h.offsetHeight,o.scrollHeight,o.offsetHeight);return t.y-=Math.min(t.y,Math.max(0,t.y+e.cy-c)),{left:t.x,top:t.y}},_createPrereqs:function(t,i,r){var u,f=this;u={screen:n.Deferred(),container:n.Deferred()},u.screen.then(function(){u===f._prereqs&&t()}),u.container.then(function(){u===f._prereqs&&i()}),n.when(u.screen,u.container).done(function(){u===f._prereqs&&(f._prereqs=null,r())}),f._prereqs=u},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?(this._ui.container.animationComplete(n.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove),void 0):(this._ui.container.removeClass(t.classToRemove),t.prereqs.container.resolve(),void 0)},_desiredCoords:function(t){var s,i=null,r=u(),f=t.x,e=t.y,o=t.positionTo;if(o&&"origin"!==o)if("window"===o)f=r.cx/2+r.x,e=r.cy/2+r.y;else{try{i=n(o)}catch(h){i=null}i&&(i.filter(":visible"),0===i.length&&(i=null))}return i&&(s=i.offset(),f=s.left+i.outerWidth()/2,e=s.top+i.outerHeight()/2),("number"!==n.type(f)||isNaN(f))&&(f=r.cx/2+r.x),("number"!==n.type(e)||isNaN(e))&&(e=r.cy/2+r.y),{x:f,y:e}},_reposition:function(n){n={x:n.x,y:n.y,positionTo:n.positionTo},this._trigger("beforeposition",r,n),this._ui.container.offset(this._placementCoords(this._desiredCoords(n)))},reposition:function(n){this._isOpen&&this._reposition(n)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(t){var i=n.extend({},this.options,t),r=function(){var t=navigator.userAgent,r=t.match(/AppleWebKit\/([0-9\.]+)/),i=!!r&&r[1],n=t.match(/Android (\d+(?:\.\d+))/),f=!!n&&n[1],u=t.indexOf("Chrome")>-1;return null!==n&&"4.0"===f&&i&&i>534.13&&!u?!0:!1}();this._createPrereqs(n.noop,n.noop,n.proxy(this,"_openPrereqsComplete")),this._currentTransition=i.transition,this._applyTransition(i.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||n.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(i),this.options.overlayTheme&&r&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){var t=this._ui.container;t.removeAttr("tabindex"),n.mobile.popup.active=r,n(":focus",t[0]).add(t[0]).blur(),this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(n.proxy(this,"_closePrereqScreen"),n.proxy(this,"_closePrereqContainer"),n.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){n.mobile.popup.active===this?(this.element.one("popupafterclose",n.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(i,r){var u,o,f=this.options,e=!1;t.scrollTo(0,this._scrollTop),i&&"pagebeforechange"===i.type&&r&&(u="string"==typeof r.toPage?r.toPage:r.toPage.jqmData("url"),u=n.mobile.path.parseUrl(u),o=u.pathname+u.search+u.hash,this._myUrl!==n.mobile.path.makeUrlAbsolute(o)?e=!0:i.preventDefault()),f.container.unbind(f.closeEvents),this.element.undelegate(f.closeLinkSelector,f.closeLinkEvents),this._close(e)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,n.proxy(this,"_closePopup"))},open:function(i){var r,f,h,s,c,e,u=this,o=this.options;if(!n.mobile.popup.active){if(n.mobile.popup.active=this,this._scrollTop=n.mobile.window.scrollTop(),!o.history)return u._open(i),u._bindContainerClose(),u.element.delegate(o.closeLinkSelector,o.closeLinkEvents,function(n){u.close(),n.preventDefault()}),void 0;if(e=n.mobile.urlHistory,f=n.mobile.dialogHashKey,h=n.mobile.activePage,s=h.is(".ui-dialog"),this._myUrl=r=e.getActive().url,c=r.indexOf(f)>-1&&!s&&e.activeIndex>0)return u._open(i),u._bindContainerClose(),void 0;-1!==r.indexOf(f)||s?r=n.mobile.path.parseLocation().hash+f:r+=r.indexOf("#")>-1?f:"#"+f,0===e.activeIndex&&r===e.initialDst&&(r+=f),n(t).one("beforenavigate",function(n){n.preventDefault(),u._open(i),u._bindContainerClose()}),this.urlAltered=!0,n.mobile.navigate(r,{role:"dialog"})}},close:function(){n.mobile.popup.active===this&&(this._scrollTop=n.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(n.mobile.back(),this.urlAltered=!1):this._closePopup())}}),n.mobile.popup.handleLink=function(t){var i,u=t.closest(":jqmData(role='page')"),f=0===u.length?n("body"):u,r=n(n.mobile.path.parseUrl(t.attr("href")).hash,f[0]);r.data("mobile-popup")&&(i=t.offset(),r.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){var i=t.parent().parent();i.hasClass("ui-li")&&(t=i.parent()),t.removeClass(n.mobile.activeBtnClass)},300)},n.mobile.document.bind("pagebeforechange",function(t,i){"popup"===i.options.role&&(n.mobile.popup.handleLink(i.options.link),t.preventDefault())}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(n),function(n,t){var r=function(r){var k,p,a,nt=(r.select,r._destroy),u=r.selectID,v=u?u:(n.mobile.ns||"")+"uuid-"+r.uuid,y=v+"-listbox",l=v+"-dialog",s=r.label,g=r.select.closest(".ui-page"),d=r._selectOptions(),tt=r.isMultiple=r.select[0].multiple,h=u+"-button",c=u+"-menu",f=n("<div data-"+n.mobile.ns+"role='dialog' id='"+l+"' data-"+n.mobile.ns+"theme='"+r.options.theme+"' data-"+n.mobile.ns+"overlay-theme='"+r.options.overlayTheme+"'><div data-"+n.mobile.ns+"role='header'><div class='ui-title'>"+s.getEncodedText()+"</div></div><div data-"+n.mobile.ns+"role='content'></div></div>"),o=n("<div id='"+y+"' class='ui-selectmenu'>").insertAfter(r.select).popup({theme:r.options.overlayTheme}),w=n("<ul>",{"class":"ui-selectmenu-list",id:c,role:"listbox","aria-labelledby":h}).attr("data-"+n.mobile.ns+"theme",r.options.theme).attr("data-"+n.mobile.ns+"divider-theme",r.options.dividerTheme).appendTo(o),e=n("<div>",{"class":"ui-header ui-bar-"+r.options.theme}).prependTo(o),b=n("<h1>",{"class":"ui-title"}).appendTo(e);r.isMultiple&&(a=n("<a>",{text:r.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+n.mobile.ns+"iconpos","notext").attr("data-"+n.mobile.ns+"icon","delete").appendTo(e).buttonMarkup()),n.extend(r,{select:r.select,selectID:u,buttonId:h,menuId:c,popupID:y,dialogID:l,thisPage:g,menuPage:f,label:s,selectOptions:d,isMultiple:tt,theme:r.options.theme,listbox:o,list:w,header:e,headerTitle:b,headerClose:a,menuPageContent:k,menuPageClose:p,placeholder:"",build:function(){var i=this,u=function(n){return n.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")};i.refresh(),i._origTabIndex===t&&(i._origTabIndex=null===i.select[0].getAttribute("tabindex")?!1:i.select.attr("tabindex")),i.select.attr("tabindex","-1").focus(function(){n(this).blur(),i.button.focus()}),i.button.bind("vclick keydown",function(t){i.options.disabled||i.isOpen||("vclick"===t.type||t.keyCode&&(t.keyCode===n.mobile.keyCode.ENTER||t.keyCode===n.mobile.keyCode.SPACE))&&(i._decideFormat(),"overlay"===i.menuType?i.button.attr("href","#"+u(i.popupID)).attr("data-"+(n.mobile.ns||"")+"rel","popup"):i.button.attr("href","#"+u(i.dialogID)).attr("data-"+(n.mobile.ns||"")+"rel","dialog"),i.isOpen=!0)}),i.list.attr("role","listbox").bind("focusin",function(t){n(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){n(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(t){var e=i.select[0].selectedIndex,f=i.list.find("li:not(.ui-li-divider)").index(this),u=i._selectOptions().eq(f)[0];u.selected=i.isMultiple?!u.selected:!0,i.isMultiple&&n(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",u.selected).toggleClass("ui-icon-checkbox-off",!u.selected),(i.isMultiple||e!==f)&&i.select.trigger("change"),i.isMultiple?i.list.find("li:not(.ui-li-divider)").eq(f).addClass("ui-btn-down-"+r.options.theme).find("a").first().focus():i.close(),t.preventDefault()}).keydown(function(t){var u,i,f=n(t.target),e=f.closest("li");switch(t.keyCode){case 38:return u=e.prev().not(".ui-selectmenu-placeholder"),u.is(".ui-li-divider")&&(u=u.prev()),u.length&&(f.blur().attr("tabindex","-1"),u.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 40:return i=e.next(),i.is(".ui-li-divider")&&(i=i.next()),i.length&&(f.blur().attr("tabindex","-1"),i.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 13:case 32:return f.trigger("click"),!1}}),i.menuPage.bind("pagehide",function(){n.mobile._bindPageRemove.call(i.thisPage)}),i.listbox.bind("popupafterclose",function(){i.close()}),i.isMultiple&&i.headerClose.click(function(){if("overlay"===i.menuType)return i.close(),!1}),i.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var t=this.list.find("li"),n=this._selectOptions();return n.text()!==t.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var r,i=this;this.element,this.isMultiple,(t||this._isRebuildRequired())&&i._buildList(),r=this.selectedIndices(),i.setButtonText(),i.setButtonCount(),i.list.find("li:not(.ui-li-divider)").removeClass(n.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(n.inArray(t,r)>-1){var u=n(this);u.attr("aria-selected",!0),i.isMultiple?u.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):u.is(".ui-selectmenu-placeholder")?u.next().addClass(n.mobile.activeBtnClass):u.addClass(n.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var n=this;"page"===n.menuType?(n.menuPage.dialog("close"),n.list.appendTo(n.listbox)):n.listbox.popup("close"),n._focusButton(),n.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){function s(){var i=t.list.find("."+n.mobile.activeBtnClass+" a");0===i.length&&(i=t.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),i.first().focus().closest("li").addClass("ui-btn-down-"+r.options.theme)}var t=this,i=n.mobile.window,o=t.list.parent(),h=o.outerHeight(),c=(o.outerWidth(),n("."+n.mobile.activePageClass),i.scrollTop()),u=t.button.offset().top,e=i.height();i.width(),h>e-80||!n.support.scrollTop?(t.menuPage.appendTo(n.mobile.pageContainer).page(),t.menuPageContent=f.find(".ui-content"),t.menuPageClose=f.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),0===c&&u>e&&t.thisPage.one("pagehide",function(){n(this).jqmData("lastScroll",u)}),t.menuPage.one("pageshow",function(){s()}).one("pagehide",function(){t.close()}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.text())):(t.menuType="overlay",t.listbox.one("popupafteropen",s))},_buildList:function(){var r=this,tt=this.options,v=this.placeholder,g=!0,ft=r.isMultiple?"checkbox-off":"false",o,f,t;r.list.empty().filter(".ui-listview").listview("destroy");for(var k,d=r.select.find("option"),rt=d.length,it=this.select[0],s="data-"+n.mobile.ns,ut=s+"option-index",et=s+"icon",nt=s+"role",l=s+"placeholder",w=i.createDocumentFragment(),y=!1,e=0;rt>e;e++,y=!1){var u=d[e],b=n(u),a=u.parentNode,h=b.text(),c=i.createElement("a"),p=[];(c.setAttribute("href","#"),c.appendChild(i.createTextNode(h)),a!==it&&"optgroup"===a.nodeName.toLowerCase())&&(o=a.getAttribute("label"),o!==k&&(f=i.createElement("li"),f.setAttribute(nt,"list-divider"),f.setAttribute("role","option"),f.setAttribute("tabindex","-1"),f.appendChild(i.createTextNode(o)),w.appendChild(f),k=o)),!g||u.getAttribute("value")&&0!==h.length&&!b.jqmData("placeholder")||(g=!1,y=!0,null===u.getAttribute(l)&&(this._removePlaceholderAttr=!0),u.setAttribute(l,!0),tt.hidePlaceholderMenuItems&&p.push("ui-selectmenu-placeholder"),v!==h&&(v=r.placeholder=h)),t=i.createElement("li"),u.disabled&&(p.push("ui-disabled"),t.setAttribute("aria-disabled",!0)),t.setAttribute(ut,e),t.setAttribute(et,ft),y&&t.setAttribute(l,!0),t.className=p.join(" "),t.setAttribute("role","option"),c.setAttribute("tabindex","-1"),t.appendChild(c),w.appendChild(t)}r.list[0].appendChild(w),this.isMultiple||v.length?this.headerTitle.text(this.placeholder):this.header.hide(),r.list.listview()},_button:function(){return n("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close(),this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+n.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove(),nt.apply(this,arguments)}})};n.mobile.document.bind("selectmenubeforecreate",function(t){var i=n(t.target).data("mobile-selectmenu");i.options.nativeMenu||0!==i.element.parents(":jqmData(role='popup')").length||r(i)})}(n),function(n,t){n.widget("mobile.controlgroup",n.mobile.widget,n.extend({options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var i=this.element,f={inner:n("<div class='ui-controlgroup-controls'></div>"),legend:n("<div role='heading' class='ui-controlgroup-label'></div>")},u=i.children("legend"),r=this;i.wrapInner(f.inner),u.length&&f.legend.append(u).insertBefore(i.children(0)),i.addClass("ui-corner-all ui-controlgroup"),n.extend(this,{_initialRefresh:!0}),n.each(this.options,function(n,i){r.options[n]=t,r._setOption(n,i,!0)})},_init:function(){this.refresh()},_setOption:function(i,r){var u="_set"+i.charAt(0).toUpperCase()+i.slice(1);this[u]!==t&&this[u](r),this._super(i,r),this.element.attr("data-"+(n.mobile.ns||"")+i.replace(/([A-Z])/,"-$1").toLowerCase(),r)},_setType:function(n){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+n),this.refresh()},_setCorners:function(n){this.element.toggleClass("ui-corner-all",n)},_setShadow:function(n){this.element.toggleClass("ui-shadow",n)},_setMini:function(n){this.element.toggleClass("ui-mini",n)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var t=this.element.find(".ui-btn").not(".ui-slider-handle"),i=this._initialRefresh;n.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(t,this.options.excludeInvisible?this._getVisibles(t,i):t,i),this._initialRefresh=!1}},n.mobile.behaviors.addFirstLastClasses)),n(function(){n.mobile.document.bind("pagecreate create",function(t){n.mobile.controlgroup.prototype.enhanceWithin(t.target,!0)})})}(n),function(n){n(i).bind("pagecreate create",function(t){n(t.target).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var t=this,r=n(this).attr("href"),u=r.substring(1);t.setAttribute("aria-haspopup",!0),t.setAttribute("aria-owns",u),t.setAttribute("aria-expanded",!1),n(i).on("popupafteropen",r,function(){t.setAttribute("aria-expanded",!0)}).on("popupafterclose",r,function(){t.setAttribute("aria-expanded",!1)})}).end().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(n),function(n,t){n.widget("mobile.fixedtoolbar",n.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!n.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var t=this,f=t.options,r=t.element,i=r.is(":jqmData(role='header')")?"header":"footer",u=r.closest(".ui-page");return f.supportBlacklist()?(t.destroy(),void 0):(r.addClass("ui-"+i+"-fixed"),f.fullscreen?(r.addClass("ui-"+i+"-fullscreen"),u.addClass("ui-page-"+i+"-fullscreen")):u.addClass("ui-page-"+i+"-fixed"),n.extend(this,{_thisPage:null}),t._addTransitionClass(),t._bindPageEvents(),t._bindToggleHandlers(),void 0)},_addTransitionClass:function(){var n=this.options.transition;n&&"none"!==n&&("slide"===n&&(n=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(n))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&n.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(n.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,i){var f=this.options;if(f.disablePageZoom&&n.mobile.zoom.enable(!0),f.updatePagePadding&&this._off(n.mobile.window,"throttledresize"),f.trackPersistentToolbars){var e=n(".ui-footer-fixed:jqmData(id)",this._thisPage),o=n(".ui-header-fixed:jqmData(id)",this._thisPage),r=e.length&&i.nextPage&&n(".ui-footer-fixed:jqmData(id='"+e.jqmData("id")+"')",i.nextPage)||n(),u=o.length&&i.nextPage&&n(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",i.nextPage)||n();(r.length||u.length)&&(r.add(u).appendTo(n.mobile.pageContainer),i.nextPage.one("pageshow",function(){u.prependTo(this),r.appendTo(this)}))}},_visible:!0,updatePagePadding:function(i){var r=this.element,u=r.is(".ui-header"),f=parseFloat(r.css(u?"top":"bottom"));this.options.fullscreen||(i=i&&i.type===t&&i||this._thisPage||r.closest(".ui-page"),n(i).css("padding-"+(u?"top":"bottom"),r.outerHeight()+f))},_useTransition:function(t){var e=n.mobile.window,i=this.element,f=e.scrollTop(),r=i.height(),s=i.closest(".ui-page").height(),o=n.mobile.getScreenHeight(),u=i.is(":jqmData(role='header')")?"header":"footer";return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===u&&!this.options.fullscreen&&f>r||"footer"===u&&!this.options.fullscreen&&s-r>f+o)||this.options.fullscreen)},show:function(n){var i="ui-fixed-hidden",t=this.element;this._useTransition(n)?t.removeClass("out "+i).addClass("in").animationComplete(function(){t.removeClass("in")}):t.removeClass(i),this._visible=!0},hide:function(n){var r="ui-fixed-hidden",t=this.element,i="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(n)?t.addClass(i).removeClass("in").animationComplete(function(){t.addClass(r).removeClass(i)}):t.addClass(r).removeClass(i),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var u,f,t=this,r=t.options,e=t.element,i=!0;e.closest(".ui-page").bind("vclick",function(i){r.tapToggle&&!n(i.target).closest(r.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(e){screen.width<1025&&n(e.target).is(r.hideDuringFocus)&&!n(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==e.type||i?"focusin"===e.type&&i&&(clearTimeout(u),i=!1,f=setTimeout(function(){t.hide()},0)):(i=!0,clearTimeout(f),u=setTimeout(function(){t.show()},0)))})},_destroy:function(){var n=this.element,t=n.is(".ui-header");n.closest(".ui-page").css("padding-"+(t?"top":"bottom"),""),n.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),n.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),n.mobile.document.bind("pagecreate create",function(t){n(t.target).jqmData("fullscreen")&&n(n.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),n.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(n),function(n){n.widget("mobile.fixedtoolbar",n.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var r=navigator.userAgent,i=navigator.platform,u=r.match(/AppleWebKit\/([0-9]+)/),f=!!u&&u[1],n=null,t=this;if(i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)n="ios";else{if(!(r.indexOf("Android")>-1))return;n="android"}if("ios"===n)t._bindScrollWorkaround();else{if(!("android"===n&&f&&534>f))return;t._bindScrollWorkaround(),t._bindListThumbWorkaround()}},_viewportOffset:function(){var i=this.element,r=i.is(".ui-header"),t=Math.abs(i.offset().top-n.mobile.window.scrollTop());return r||(t=Math.round(t-n.mobile.window.height()+i.outerHeight())-60),t},_bindScrollWorkaround:function(){var t=this;this._on(n.mobile.window,{scrollstop:function(){var n=t._viewportOffset();n>2&&t._visible&&t._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(n(".ui-page-active").css("padding-bottom"));n(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){n(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(n),function(n,r){n.widget("mobile.panel",n.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var t=this,i=t.element,r=i.closest(":jqmData(role='page')"),u=function(){var i=n.data(r[0],"mobilePage").options.theme;return"ui-body-"+i},o=function(){var n=i.find("."+t.options.classes.panelInner);return 0===n.length&&(n=i.children().wrapAll('<div class="'+t.options.classes.panelInner+'" />').parent()),n},e=function(){var i=r.find("."+t.options.classes.contentWrap);return 0===i.length&&(i=r.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+t.options.classes.contentWrap+" "+u()+'" />').parent(),n.support.cssTransform3d&&t.options.animate&&i.addClass(t.options.classes.animate)),i},f=function(){var i=r.find("."+t.options.classes.contentFixedToolbar);return 0===i.length&&(i=r.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(t.options.classes.contentFixedToolbar),n.support.cssTransform3d&&t.options.animate&&i.addClass(t.options.classes.animate)),i};n.extend(this,{_panelID:i.attr("id"),_closeLink:i.find(":jqmData(rel='close')"),_page:i.closest(":jqmData(role='page')"),_pageTheme:u(),_panelInner:o(),_wrapper:e(),_fixedToolbar:f()}),t._addPanelClasses(),t._wrapper.addClass(this.options.classes.contentWrapClosed),t._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),t._page.addClass(t.options.classes.pagePanel),n.support.cssTransform3d&&t.options.animate&&this.element.addClass(t.options.classes.animate),t._bindUpdateLayout(),t._bindCloseEvents(),t._bindLinkListeners(),t._bindPageEvents(),t.options.dismissible&&t._createModal(),t._bindSwipeEvents()},_createModal:function(){var t=this;t._modal=n("<div class='"+t.options.classes.modal+"' data-panelid='"+t._panelID+"'></div>").on("mousedown",function(){t.close()}).appendTo(this._page)},_getPosDisplayClasses:function(n){return n+"-position-"+this.options.position+" "+n+"-display-"+this.options.display},_getPanelClasses:function(){var n=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(n+=" ui-body-"+this.options.theme),this.options.positionFixed&&(n+=" "+this.options.classes.panelFixed),n},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var n=this;n._closeLink.on("click.panel",function(t){return t.preventDefault(),n.close(),!1}),n.element.on("click.panel","a:jqmData(ajax='false')",function(){n.close()})},_positionPanel:function(){var t=this,i=t._panelInner.outerHeight(),r=i>n.mobile.getScreenHeight();r||!t.options.positionFixed?(r&&(t._unfixPanel(),n.mobile.resetActivePageHeight(i)),t._scrollIntoView(i)):t._fixPanel()},_scrollIntoView:function(i){i<n(t).scrollTop()&&t.scrollTo(0,0)},_bindFixListener:function(){this._on(n(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(n(t),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&n.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&n.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var n=this;n.element.on("updatelayout",function(){n._open&&n._positionPanel()})},_bindLinkListeners:function(){var t=this;t._page.on("click.panel","a",function(i){if(this.href.split("#")[1]===t._panelID&&t._panelID!==r){i.preventDefault();var f,u=n(this);return u.hasClass("ui-link")||(f=u.parent().parent(),f.hasClass("ui-li")&&(u=f.parent()),u.addClass(n.mobile.activeBtnClass),t.element.one("panelopen panelclose",function(){u.removeClass(n.mobile.activeBtnClass)})),t.toggle(),!1}})},_bindSwipeEvents:function(){var n=this,t=n._modal?n.element.add(n._modal):n.element;n.options.swipeClose&&("left"===n.options.position?t.on("swipeleft.panel",function(){n.close()}):t.on("swiperight.panel",function(){n.close()}))},_bindPageEvents:function(){var n=this;n._page.on("panelbeforeopen",function(t){n._open&&t.target!==n.element[0]&&n.close()}).on("pagehide",function(){n._open&&n.close(!0)}).on("keyup.panel",function(t){27===t.keyCode&&n._open&&n.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,r=i.options,f=function(){i._page.off("panelclose"),i._page.jqmData("panel","open"),!t&&n.support.cssTransform3d&&r.animate?i.element.add(i._wrapper).on(i._transitionEndEvents,u):setTimeout(u,0),i.options.theme&&"overlay"!==i.options.display&&i._page.removeClass(i._pageTheme).addClass("ui-body-"+i.options.theme),i.element.removeClass(r.classes.panelClosed).addClass(r.classes.panelOpen),i._positionPanel(),i.options.theme&&"overlay"!==i.options.display&&i._wrapper.css("min-height",i._page.css("min-height")),i._contentWrapOpenClasses=i._getPosDisplayClasses(r.classes.contentWrap),i._wrapper.removeClass(r.classes.contentWrapClosed).addClass(i._contentWrapOpenClasses+" "+r.classes.contentWrapOpen),i._fixedToolbarOpenClasses=i._getPosDisplayClasses(r.classes.contentFixedToolbar),i._fixedToolbar.removeClass(r.classes.contentFixedToolbarClosed).addClass(i._fixedToolbarOpenClasses+" "+r.classes.contentFixedToolbarOpen),i._modalOpenClasses=i._getPosDisplayClasses(r.classes.modal)+" "+r.classes.modalOpen,i._modal&&i._modal.addClass(i._modalOpenClasses)},u=function(){i.element.add(i._wrapper).off(i._transitionEndEvents,u),i._page.addClass(r.classes.pagePanelOpen),i._bindFixListener(),i._trigger("open")};this.element.closest(".ui-page-active").length<0&&(t=!0),i._trigger("beforeopen"),"open"===i._page.jqmData("panel")?i._page.on("panelclose",function(){f()}):f(),i._open=!0}},close:function(t){if(this._open){var r=this.options,i=this,f=function(){!t&&n.support.cssTransform3d&&r.animate?i.element.add(i._wrapper).on(i._transitionEndEvents,u):setTimeout(u,0),i._page.removeClass(r.classes.pagePanelOpen),i.element.removeClass(r.classes.panelOpen),i._wrapper.removeClass(r.classes.contentWrapOpen),i._fixedToolbar.removeClass(r.classes.contentFixedToolbarOpen),i._modal&&i._modal.removeClass(i._modalOpenClasses)},u=function(){i.options.theme&&"overlay"!==i.options.display&&(i._page.removeClass("ui-body-"+i.options.theme).addClass(i._pageTheme),i._wrapper.css("min-height","")),i.element.add(i._wrapper).off(i._transitionEndEvents,u),i.element.addClass(r.classes.panelClosed),i._wrapper.removeClass(i._contentWrapOpenClasses).addClass(r.classes.contentWrapClosed),i._fixedToolbar.removeClass(i._fixedToolbarOpenClasses).addClass(r.classes.contentFixedToolbarClosed),i._fixPanel(),i._unbindFixListener(),n.mobile.resetActivePageHeight(),i._page.jqmRemoveData("panel"),i._trigger("close")};this.element.closest(".ui-page-active").length<0&&(t=!0),i._trigger("beforeclose"),f(),i._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var t=this.options.classes,i=this.options.theme,r=this.element.siblings("."+t.panel).length;r?this._open&&(this._wrapper.removeClass(t.contentWrapOpen),this._fixedToolbar.removeClass(t.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(t.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme),n.mobile.resetActivePageHeight())),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),t.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([t.panelUnfixed,t.panelClosed,t.panelOpen].join(" "))}}),n(i).bind("pagecreate create",function(t){n.mobile.panel.prototype.enhanceWithin(t.target)})}(n),function(n,t){n.widget("mobile.table",n.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var n=this;n.refresh(!0)},refresh:function(i){var r=this,u=this.element.find("thead tr");i&&this.element.addClass(this.options.classes.table),r.headers=this.element.find("tr:eq(0)").children(),r.allHeaders=r.headers.add(u.children()),u.each(function(){var f=0;n(this).children().each(function(){var o=parseInt(n(this).attr("colspan"),10),s=":nth-child("+(f+1)+")",e;if(n(this).jqmData("colstart",f+1),o)for(e=0;o-1>e;e++)f++,s+=", :nth-child("+(f+1)+")";i===t&&n(this).jqmData("cells",""),n(this).jqmData("cells",r.element.find("tr").not(u.eq(0)).not(this).children(s)),f++})}),i===t&&this.element.trigger("refresh")}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.table.prototype.enhanceWithin(t.target)})}(n),function(n,t){n.mobile.table.prototype.options.mode="columntoggle",n.mobile.table.prototype.options.columnBtnTheme=null,n.mobile.table.prototype.options.columnPopupTheme=null,n.mobile.table.prototype.options.columnBtnText="Columns...",n.mobile.table.prototype.options.classes=n.extend(n.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),n.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(i){var a,c,e,l,h=n(this),u=h.data("mobile-table"),f=i.type,r=u.options,o=n.mobile.ns,s=(h.attr("id")||r.classes.popup)+"-popup";"columntoggle"===r.mode&&("refresh"!==f&&(u.element.addClass(r.classes.columnToggleTable),a=n("<a href='#"+s+"' class='"+r.classes.columnBtn+"' data-"+o+"rel='popup' data-"+o+"mini='true'>"+r.columnBtnText+"</a>"),c=n("<div data-"+o+"role='popup' data-"+o+"role='fieldcontain' class='"+r.classes.popup+"' id='"+s+"'></div>"),e=n("<fieldset data-"+o+"role='controlgroup'></fieldset>")),u.headers.not("td").each(function(t){var u=n(this).jqmData("priority"),i=n(this).add(n(this).jqmData("cells"));u&&(i.addClass(r.classes.priorityPrefix+u),"refresh"!==f?n("<label><input type='checkbox' checked />"+n(this).text()+"</label>").appendTo(e).children(0).jqmData("cells",i).checkboxradio({theme:r.columnPopupTheme}):n("#"+s+" fieldset div:eq("+t+")").find("input").jqmData("cells",i))}),"refresh"!==f&&e.appendTo(c),l=e===t?n("#"+s+" fieldset"):e,"refresh"!==f&&(l.on("change","input",function(){this.checked?n(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):n(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),a.insertBefore(h).buttonMarkup({theme:r.columnBtnTheme}),c.insertBefore(h).popup()),u.update=function(){l.find("input").each(function(){this.checked?(this.checked="table-cell"===n(this).jqmData("cells").eq(0).css("display"),"refresh"===f&&n(this).jqmData("cells").addClass("ui-table-cell-visible")):n(this).jqmData("cells").addClass("ui-table-cell-hidden"),n(this).checkboxradio("refresh")})},n.mobile.window.on("throttledresize",u.update),u.update())})}(n),function(n){n.mobile.table.prototype.options.mode="reflow",n.mobile.table.prototype.options.classes=n.extend(n.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),n.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(t){var e=n(this),f=t.type,r=e.data("mobile-table"),i=r.options,u;"reflow"===i.mode&&("refresh"!==f&&r.element.addClass(i.classes.reflowTable),u=n(r.allHeaders.get().reverse()),u.each(function(){var f=n(this).jqmData("cells"),o=n(this).jqmData("colstart"),e=f.not(this).filter("thead th").length&&" ui-table-cell-label-top",t=n(this).text(),r,u;""!==t&&(e?(r=parseInt(n(this).attr("colspan"),10),u="",r&&(u="td:nth-child("+r+"n + "+o+")"),f.filter(u).prepend("<b class='"+i.classes.cellLabels+e+"'>"+t+"</b>")):f.prepend("<b class='"+i.classes.cellLabels+"'>"+t+"</b>"))}))})}(n),function(n,t){function h(n){s=n.originalEvent,r=s.accelerationIncludingGravity,o=Math.abs(r.x),u=Math.abs(r.y),f=Math.abs(r.z),!t.orientation&&(o>7||(f>6&&8>u||8>f&&u>6)&&o>5)?i.enabled&&i.disable():i.enabled||i.enable()}var e,s,o,u,f,r,i;if(n.mobile.iosorientationfixEnabled=!0,e=navigator.userAgent,!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(e)&&e.indexOf("AppleWebKit")>-1))return n.mobile.iosorientationfixEnabled=!1,void 0;i=n.mobile.zoom;n.mobile.document.on("mobileinit",function(){n.mobile.iosorientationfixEnabled&&n.mobile.window.bind("orientationchange.iosorientationfix",i.enable).bind("devicemotion.iosorientationfix",h)})}(n,this),function(n,t){function u(){f.removeClass("ui-mobile-rendering")}var f=n("html"),r=(n("head"),n.mobile.window);n(t.document).trigger("mobileinit"),n.mobile.gradeA()&&(n.mobile.ajaxBlacklist&&(n.mobile.ajaxEnabled=!1),f.addClass("ui-mobile ui-mobile-rendering"),setTimeout(u,5e3),n.extend(n.mobile,{initializePage:function(){var e=n.mobile.path,f=n(":jqmData(role='page'), :jqmData(role='dialog')"),t=e.stripHash(e.stripQueryParams(e.parseLocation().hash)),o=i.getElementById(t);f.length||(f=n("body").wrapInner("<div data-"+n.mobile.ns+"role='page'></div>").children(0)),f.each(function(){var t=n(this);t.jqmData("url")||t.attr("data-"+n.mobile.ns+"url",t.attr("id")||location.pathname+location.search)}),n.mobile.firstPage=f.first(),n.mobile.pageContainer=n.mobile.firstPage.parent().addClass("ui-mobile-viewport"),n.mobile.navreadyDeferred.resolve(),r.trigger("pagecontainercreate"),n.mobile.showPageLoadingMsg(),u(),n.mobile.hashListeningEnabled&&n.mobile.path.isHashValid(location.hash)&&(n(o).is(':jqmData(role="page")')||n.mobile.path.isPath(t)||t===n.mobile.dialogHashKey)?n.event.special.navigate.isPushStateEnabled()?(n.mobile.navigate.history.stack=[],n.mobile.navigate(n.mobile.path.isPath(location.hash)?location.hash:location.href)):r.trigger("hashchange",[!0]):(n.mobile.path.isHashValid(location.hash)&&(n.mobile.urlHistory.initialDst=t.replace("#","")),n.event.special.navigate.isPushStateEnabled()&&n.mobile.navigate.navigator.squash(e.parseLocation().href),n.mobile.changePage(n.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),n(function(){t.scrollTo(0,1),n.mobile.defaultHomeScroll=n.support.scrollTop&&1!==n.mobile.window.scrollTop()?1:0,n.mobile.autoInitializePage&&n.mobile.initializePage(),r.load(n.mobile.silentScroll),n.support.cssPointerEvents||n.mobile.document.delegate(".ui-disabled","vclick",function(n){n.preventDefault(),n.stopImmediatePropagation()})}))}(n,this)})